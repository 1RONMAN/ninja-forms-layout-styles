{"version":3,"sources":["../lib/almond.js","views/emptyCell.js","views/cellItem.js","models/cellFieldCollection.js","views/rowItem.js","views/rowCollection.js","controllers/data.js","controllers/maxCols.js","controllers/addField.js","controllers/cellSortable.js","controllers/gutterDroppable.js","controllers/rowsSortable.js","controllers/undo.js","controllers/updateFieldOrder.js","controllers/loadControllers.js","models/cellModel.js","models/cellCollection.js","models/rowModel.js","models/rowCollection.js","controllers/loadContent.js","main.js"],"names":["requirejs","require","define","undef","hasProp","obj","prop","hasOwn","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","baseParts","split","map","config","starMap","charAt","length","nodeIdCompat","jsSuffixRegExp","test","replace","slice","concat","splice","join","indexOf","substring","makeRequire","relName","forceSync","args","aps","arguments","push","req","apply","makeNormalize","makeLoad","depName","value","defined","callDep","waiting","defining","main","Error","splitPrefix","prefix","index","makeConfig","makeMap","handlers","Object","prototype","hasOwnProperty","plugin","parts","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","view","Marionette","ItemView","extend","tagname","template","EmptyCell","CollectionView","className","emptyView","dropping","initialize","options","this","collection","model","get","childView","nfRadio","channel","request","cellCollection","onRender","el","data","models","addClass","removeClass","initSortable","that","sortable","cancel","placeholder","opacity","items","tolerance","connectWith","refreshPositions","appendTo","helper","element","over","ui","trigger","out","sort","receive","start","stop","update","templateHelpers","renderHandleBefore","renderHandleAfter","events","click .delete","clickDeleteCell","Backbone","Collection","comparator","listenTo","removeField","_","each","set","cellModel","cid","silent","on","addField","updateCellModel","fieldCollection","removeModel","addModel","order","rowModel","remove","field","add","CellItemView","CellFieldCollection","reorderOnSort","childViewOptions","reply","updateGutters","render","onBeforeDestroy","off","maybeRender","find","rowView","droppable","hoverClass","accept","drop","elements","Split","minSize","onDragStart","onDrag","onDragEnd","cell","width","gutterWidth","css","html","before","after","RowItemView","getEmptyView","maybeInitSortable","handle","grid","controller","overSortable","outFired","overCell","overRows","addRow","rowCollection","cells","fields","updateOverSortable","val","getOverSortable","updateOutFired","getOutFired","updateOverCell","getOverCell","updateColClass","num","builderEl","builderClass","maybeAddRow","startDragging","stopDragging","getHelper","dragFieldType","setDropping","deleteCell","cellView","parent","prev","item","fieldID","fieldModel","oldOrder","isNumeric","search","newPos","label","object","change","dashicon","layouts","changeCollection","changeModel","hasClass","receiveCurrentField","receiveNewField","receiveFieldStaging","type","newModel","sortFields","stagedFields","insertedAt","senderOldOrder","receiverOldOrder","originalCollection","newCollection","target","height","clone","left","top","cellcid","fieldType","tmpID","draggable","draggableInstance","helperProportions","undoData","newRows","newRowModel","dropped","dragStart","drag","dragEnd","newCell","addCell","dropNewField","dropFieldStaging","dropCurrentField","oldCollection","widths","getDraggedWidths","percentLeft","a","percentRight","b","gutter","append","awidth","bwidth","modelA","modelB","oldModelAWidth","oldModelBWidth","rowsView","rowcid","droppedRow","oldCID","droppedOrder","undoLabel","changeAction","actionModel","parseInt","newOrder","newRow","undoMovedBetweenCells","undoGutterDropNewField","undoGutterSplitCell","undoCellSorting","undoRemovedCell","undoCellNewField","undoRowNewField","undoGutterResize","undoMovedToNewRow","undoRowSorting","undoAll","maybeRemoveChange","enableNextChange","found","updateFieldOrder","rowIndex","cellIndex","fieldIndex","Data","MaxCols","AddField","CellSortable","GutterDroppable","RowsSortable","Undo","UpdateFieldOrder","Model","fieldModels","findWhere","key","updateRowModel","updateCellWidths","Math","round","CellCollection","checkEmptyCells","updateMaxCols","maxCols","row","RowCollectionView","LoadControllers","RowCollection","loadControllers","getFormContentView","formContentSave","formContentLoad","rows","JSON","parse","stringify","rowArray","nfLayouts","Radio","LoadContent","NFLayouts","Application","afterNFLoad","onStart","app"],"mappings":"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mBAAA4U,GAAA,GAAA,SAEAA,EADA,mBAAAC,WACAA,UAAAL,SAMA,GAAAL,GAAAS,IAEAA,IAMA,OAAA5J,IAEA,IAAA9F,GAAAsC,SAAAsN,KCjFA1W,IAAA,2BAAA,SAAA2W,GAEA,GAAAC,GAAA/Q,WAAAgR,YAAA9Q,QAEAQ,WAAA,SAAAC,GACAC,KAAA8C,SAAAzC,EAAAC,QAAA,OAAA,iBAAAN,KAAAqQ,cAGAC,QAAA,WACA,GAAAJ,IAGAG,YAAA,SAAAE,GACA,GAAAlJ,GAAAhH,EAAAC,QAAA,OAAAC,QAAA,gBACArB,QAAAmI,GAAAxG,SAAA,cAIAmP,EAAA,GAAAG,EACAH,GAAA9N,UAEA1I,EAAA,OAAA;ApBpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA,ADWA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtOA,ADuOA;ACtOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1LA,AD2LA;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA,ADgIA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA,AD6BA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/qBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA,ADsCA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA,AD+BA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnCA,ADoCA;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA,AD4CA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"builder.js","sourcesContent":["/**\n * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                //Lop off the last part of baseParts, so that . matches the\n                //\"directory\" and not name of the baseName's module. For instance,\n                //baseName of \"one/two/three\", maps to \"one/two/three.js\", but we\n                //want the directory, \"one/two\" for this normalization.\n                name = baseParts.slice(0, baseParts.length - 1).concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"../lib/almond\", function(){});\n\n","/*\n * View that is rendered if we have no fields within a cell.\n */\ndefine( 'views/emptyCell',[], function() {\n\tvar view = Marionette.ItemView.extend( {\n\t\ttagname: 'div',\n\t\ttemplate: '#nf-tmpl-empty-cell'\n\t} );\n\n\treturn view;\n} );\n","/**\n * Individual cell view.\n *\n */\ndefine( 'views/cellItem',['views/emptyCell'], function( EmptyCell ) {\n\tvar view = Marionette.CollectionView.extend( {\n\t\ttagname: 'div',\n\t\tclassName: 'layouts-cell',\n\t\temptyView: EmptyCell,\n\t\tdropping: false,\n\n\t\tinitialize: function( options ) {\n\t\t\t// Set our collection to the fields within this cell\n\t\t\tthis.collection = this.model.get( 'fields' );\n\t\t\t// Get our field view from Ninja Forms core.\n\t\t\tthis.childView = nfRadio.channel( 'views' ).request( 'get:fieldItem' );\n\t\t\t// Get the collection to which this cell belongs.\n\t\t\tthis.cellCollection = options.cellCollection;\n\t\t},\n\n\t\t/**\n\t\t * When we render we need to:\n\t\t * 1) Set a data attribute on our cell element representing width.\n\t\t * 2) Set a data attribute on our cell element representing the cell model.\n\t\t * 3) Set classes on our cell element based upon how many fields it contains.\n\t\t * 4) Make our cell sortable droppable if we have more than one cell in the collection.\n\t\t * 5) Init our sortable.\n\t\t * \n\t\t * @since  version\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tonRender: function() {\n\t\t\tjQuery( this.el ).data( 'width', this.model.get( 'width' ) );\n\t\t\tjQuery( this.el ).data( 'model', this.model );\n\t\t\t// Used during troubleshooting to add a class to the cell element.\n\t\t\t// jQuery( this.el ).addClass( this.model.cid );\n\n\t\t\t// if ( 1 < this.cellCollection.length ) {\n\t\t\t\t// jQuery( this.el ).addClass( 'layouts-droppable nf-fields-sortable' );\t\n\t\t\t// } else { // we want a draggable.\n\n\t\t\t// }\n\t\t\t\n\t\t\t// Set a class based upon how many fields are in our cell.\n\t\t\tif ( this.collection.models.length == 1 ) {\n\t\t\t\tjQuery( this.el ).addClass( 'single-field' );\n\t\t\t\tjQuery( this.el ).removeClass( 'multi-field' );\n\t\t\t} else {\n\t\t\t\tjQuery( this.el ).addClass( 'multi-field' );\n\t\t\t\tjQuery( this.el ).removeClass( 'single-field' );\n\t\t\t}\n\n\t\t\t// Make this cell droppable if we have more than one field.\n\t\t\tif ( 1 < this.cellCollection.length ) {\n\t\t\t\tjQuery( this.el ).addClass( 'layouts-droppable' );\t\n\t\t\t\t// If we have multiple cells in this row, make this cell droppable for new fields\n\t\t\t\tjQuery( this.el ).addClass( 'nf-field-type-droppable' );\n\t\t\t} else {\n\t\t\t\tjQuery( this.el ).removeClass( 'nf-field-type-droppable' );\n\t\t\t\tjQuery( this.el ).removeClass( 'layouts-droppable' );\t\n\t\t\t}\n\n\t\t\t// Init our sortable.\n\t\t\tthis.initSortable();\n\t\t},\n\n\t\t/**\n\t\t * Initialize our sortable.\n\t\t * Sends out radio messages when there are sortable events.\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\tinitSortable: function() {\n\t\t\tvar that = this;\n\t\t\tjQuery( this.el ).sortable( {\n\t\t\t\t// Don't let the item controls be used as a handle.\n\t\t\t\tcancel: '.nf-item-controls',\n\t\t\t\t// Class name of our placeholder. Adds the green highlight.\n\t\t\t\tplaceholder: 'nf-fields-sortable-placeholder',\n\t\t\t\t// Opacity of the draggable\n\t\t\t\topacity: 0.95,\n\t\t\t\t// Acceptable items.\n\t\t\t\titems: '.nf-field-wrap, .nf-stage',\n\t\t\t\t// We care about the pointer, not an intersection.\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\t// Allows us to drop items from this sortable into others.\n\t\t\t\tconnectWith: '.layouts-droppable',\n\t\t\t\t// Update droppable areas as we drag. Important because of the \"swell\" effect on the builder.\n\t\t\t\trefreshPositions: true,\n\t\t\t\tappendTo: '#nf-main',\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * Return a helper that will be used for the drag event of the sortable.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e event object\n\t\t\t\t * @return object   drag element\n\t\t\t\t */\n\t\t\t\thelper: function( e ) {\n\t\t\t\t\tvar element = nfRadio.channel( 'layouts' ).request( 'getHelper:cellSortable', e, that, this );\n\t\t\t\t\treturn element;\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we hover over our sortable while dragging, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tover: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'over:cellSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we hover over out of our sortable while dragging, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tout: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'out:cellSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we sort our sortable while dragging, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t        sort: function( e, ui) {\n\t\t        \tnfRadio.channel( 'layouts' ).trigger( 'sort:cellSortable', e, ui, that, this );\n\t\t        },\n\t\t\t\t\n\t\t\t\t/**\n\t\t\t\t * When we receive an item, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\treceive: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'receive:cellSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we start dragging, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tstart: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'start:cellSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we stop dragging, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tstop: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'stop:cellSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we update our sortable order, send out a radio message.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object e  event object\n\t\t\t\t * @param  object ui jQuery UI object\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tupdate: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'update:cellSortable', e, ui, that, this );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Template helper functions\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\ttemplateHelpers: function() {\n\t\t\treturn {\n\t\t\t\trenderHandleBefore: function() {\n\t\t\t\t\treturn '<div class=\"layouts-handle\"></div>';\n\t\t\t\t},\n\n\t\t\t\trenderHandleAfter: function() {\n\t\t\t\t\treturn '<div class=\"layouts-handle\"></div>';\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * View events\n\t\t * \n\t\t * @type {Object}\n\t\t */\n\t\tevents: {\n\t\t\t'click .delete': 'clickDeleteCell'\n\t\t},\n\n\t\t/**\n\t\t * When the user clicks to delete a cell, remove the model.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  {Object} e event object\n\t\t * @return void\n\t\t */\n\t\tclickDeleteCell: function( e ) {\n\t\t\tnfRadio.channel( 'layouts' ).trigger( 'click:deleteCell', e, this );\n\t\t}\n\t} );\n\n\treturn view;\n} );\n","/**\n * Holds all of our cell field models.\n * \n * @package Ninja Forms Layouts\n * @subpackage Fields\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'models/cellFieldCollection',[], function( ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tcomparator: 'cellOrder',\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n\t\t\t// Listen to requests to remove a field from a collection.\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts-cell' ), 'remove:field', this.removeField );\n\t\t\t// We've been passed the cellModel to which this collection belongs.\n\t\t\t// this.options.cellModel = options.cellModel;\n\t\t\t_.each( models, function( model ) {\n\t\t\t\tmodel.set( 'cellcid', this.options.cellModel.cid, { silent: true } );\n\t\t\t}, this );\n\n\t\t\t// When we add or remove a field from this collection, update our cellModel.\n\t\t\tthis.on( 'add', this.addField, this );\n\t\t\tthis.on( 'remove', this.updateCellModel, this );\n\t\t\tvar fieldCollection = nfRadio.channel( 'fields' ).request( 'get:collection' );\n\n\t\t\t// When we remove a model from our main field collection, make sure it's removed from this collection as well.\n\t\t\tfieldCollection.on( 'remove', this.removeModel, this );\n\n\t\t\t// When we add a model to our main field collection, add it to this collection if its cid matches\n\t\t\tfieldCollection.on( 'add', this.addModel, this );\n\t\t},\n\n\t\t/**\n\t\t * Add a field to our cell collection\n\t\t * @since 3.0\n\t\t */\n\t\t addField: function( model ) {\n\t\t \tmodel.set( 'cellcid', this.options.cellModel.cid, { silent: true } );\n\t\t \tif ( 1 == this.options.cellModel.collection.length ) {\n\t\t \t\tvar order = this.options.cellModel.collection.options.rowModel.get( 'order' );\n\t\t \t\tthis.remove( model );\n\t\t \t\tnfRadio.channel( 'layouts' ).request( 'add:row', this.options.cellModel.collection.options.rowModel.collection, { order: order, field: model } );\n\t\t \t}\n\t\t \tthis.updateCellModel();\n\t\t },\n\n\n\t\t/**\n\t\t * Update our cellModel.\n\t\t * @since 3.0\n\t\t */\n\t\tupdateCellModel: function() {\n\t\t\tthis.options.cellModel.set( 'fields', this );\n\t\t\tthis.options.cellModel.trigger( 'change:fields', this.options.cellModel );\n\t\t},\n\n\t\t/**\n\t\t * Respond to requests to remove a field from a collection.\n\t\t * @since  3.0\n\t\t * @param  string id field ID\n\t\t * @return void\n\t\t */\n\t\tremoveField: function( id ) {\n\t\t\tif ( this.get( id ) ) {\n\t\t\t\tthis.remove( this.get( id ) );\n\t\t\t}\n\t\t},\n\n\t\tremoveModel: function( model ) {\n\t\t\tthis.remove( model );\n\t\t},\n\n\t\taddModel: function( model ) {\n\t\t\tif ( 'undefined' != typeof this.options.cellModel && this.options.cellModel.cid == model.get( 'cellcid' ) ) {\n\t\t\t\tthis.add( model );\n\t\t\t}\n\t\t}\n\t} );\n\treturn collection;\n} );\n","/**\n * Single row view\n */\ndefine( 'views/rowItem',['views/cellItem', 'models/cellFieldCollection'], function( CellItemView, CellFieldCollection ) {\n\tvar view = Marionette.CollectionView.extend( {\n\t\ttagname: 'div',\n\t\tclassName: 'layouts-row',\n\t\tchildView: CellItemView,\n\t\treorderOnSort: true,\n\n\t\tinitialize: function() {\n\t\t\t// Set our collection to our cells.\n\t\t\tthis.collection = this.model.get( 'cells' );\n\t\t\t/*\n\t\t\t * Set our childViewOptions.\n\t\t\t * As the variable name suggests, this will be accessible within our child views.\n\t\t\t */\n\t\t\tthis.childViewOptions = {\n\t\t\t\tcellCollection: this.collection\n\t\t\t};\n\t\t\t// Respond to requests to update our gutter/divider positions\n\t\t\tnfRadio.channel( 'layouts' ).reply( 'update:gutters', this.updateGutters, this );\n\t\t\t\n\t\t\t/*\n\t\t\t * Bind listeners to row model events.\n\t\t\t */\n\t\t\t// this.model.on( 'destroy:cell', this.render, this );\n\t\t\tthis.collection.on( 'sort', this.render, this );\n\n\t\t\t/*\n\t\t\t * Bind listeners to our nf-builder so that we can track when the user is dragging rather than just mouse over.\n\t\t\t * Because our gutter/divider is a droppable that is very close to a sortable, sometimes the \"drop\" event will fire when we are just mousing over.\n\t\t\t * Tracking that state of the mouse lets us prevent this later.\n\t\t\t * \n\t\t\t */\n\t\t\tjQuery( '#nf-builder' ).on( 'mousedown', function() {\n\t\t\t\tjQuery( this ).data( 'mousedown', true );\n\t\t\t} );\n\t\t\t\n\t\t\tjQuery( '#nf-builder' ).on( 'mouseup', function() {\n\t\t\t\tjQuery( this ).data( 'mousedown', false );\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Before we destroy this view, unbind our model change listeners.\n\t\t * If we don't do this, we'll get JS errors.\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\tonBeforeDestroy: function() {\n\t\t\t// this.model.off( 'add:cell', this.render );\n\t\t\t// this.model.off( 'destroy:cell', this.render );\n\t\t\tthis.collection.off( 'sort', this.maybeRender );\n\t\t},\n\n\t\tmaybeRender: function() {\n\t\t\tif ( 1 < this.collection.models.length ) {\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When we render:\n\t\t * 1) Set our el id to the model cid\n\t\t * 2) Add a class based upon the number of cells in the row\n\t\t * 3) Remove any old gutters\n\t\t * 4) Update our gutters/dividers\n\t\t * 5) Init our gutters/dividers as droppables\n\t\t * \n\t\t * @since  version\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tonRender: function() {\n\t\t\t// Set el ID\n\t\t\tjQuery( this.el ).prop( 'id', this.model.cid );\n\t\t\t// Add class based upon number of cells\n\t\t\tif ( this.collection.models.length == 1 ) {\n\t\t\t\tjQuery( this.el ).addClass( 'single-cell' );\n\t\t\t\tjQuery( this.el ).removeClass( 'multi-cell' );\n\t\t\t} else {\n\t\t\t\tjQuery( this.el ).addClass( 'multi-cell' );\n\t\t\t\tjQuery( this.el ).removeClass( 'single-cell' );\n\t\t\t}\n\t\t\t\n\t\t\t// Remove any gutters. This prevents extra HTML markup from appearing.\n\t\t\tjQuery( this.el ).find( '.gutter' ).remove();\n\t\t\t// Update our gutters/dividers\n\t\t\tthis.updateGutters();\n\t\t\t// We want to access our rowView object later\n\t\t\tvar rowView = this;\n\t\t\t// Init our droppables.\n\t\t\tjQuery( this.el ).find( '.gutter' ).droppable( {\n\t\t\t\t// Activate by pointer\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\t// Class added when we're dragging over\n\t\t\t\thoverClass: 'nf-fields-sortable-placeholder',\n\t\t\t\t// Which elements do we want to accept?\n\t\t\t\taccept: '.nf-field-type-draggable, .nf-field-wrap, .nf-stage',\n\n\t\t\t\t/**\n\t\t\t\t * When we drag over this droppable, trigger a radio event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tover: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'over:gutterDroppable', e, ui, rowView, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we drag out of this droppable, trigger a radio event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tout: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'out:gutterDroppable', e, ui, rowView, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we drop on this droppable, trigger a radio event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tdrop: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'drop:gutterDroppable', e, ui, rowView, this );\n\t\t\t\t}\n\t\t\t} );\n\t\t},\n\n\t\t/**\n\t\t * Check for gutters in our row and activate them as sliders.\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\tupdateGutters: function() {\n\t\t\t// Get our gutter elements\n\t\t\tvar elements = jQuery( this.el ).find( '.layouts-cell' );\n\t\t\tvar that = this;\n\t\t\t// Call split.js to create resizable cells.\n\t\t\tSplit( elements, {\n\t\t\t\tminSize: 50,\n\t\t\t\tcellCollection: that.collection,\n\t\t\t\t// When we start resizing our cell, trigger a radio event.\n\t\t\t\tonDragStart: function( data ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'dragStart:gutterSlider', data, that.collection );\n\t\t\t\t},\n\t\t\t\t// When we drag/resize our cell, trigger a radio event.\n\t\t\t\tonDrag: function( data ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'drag:gutterSlider', data, that.collection );\n\t\t\t\t},\n\t\t\t\t// When we stop resizing our cell, trigger a radio event.\n\t\t\t\tonDragEnd: function( data ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'dragEnd:gutterSlider', data, that.collection );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Set the css width on our gutters\n\t\t\t_.each( jQuery( elements ), function( cell, index ) {\n\t\t\t\tvar width = jQuery( cell ).data( 'width' );\n\t\t\t\tvar gutterWidth = 10;\n\t\t\t\tif ( 0 == index || index == jQuery( elements ).length - 1 ) {\n\t\t\t\t\t// gutterWidth = 5;\n\t\t\t\t}\n\t\t\t\tjQuery( cell ).css( 'width', 'calc(' + width + '% - ' + gutterWidth + 'px)' );\n\t\t\t} );\n\n\t\t\t// Add a gutter/divider before our first cell and after our last cell.\n\t\t\tvar html = '<div class=\"gutter\" style=\"width: 10px; cursor: ew-resize;\"></div>';\n\t\t\tjQuery( this.el ).find( '.layouts-cell:first' ).before( html );\n\t\t\tjQuery( this.el ).find( '.layouts-cell:last' ).after( html );\n\t\t}\n\n\t} );\n\n\treturn view;\n} );\n","/**\n * Row collection (sortable) view.\n */\ndefine( 'views/rowCollection',['views/rowItem'], function( RowItemView ) {\n\tvar view = Marionette.CollectionView.extend( {\n\t\ttagname: 'div',\n\t\tclassName: 'layouts-row-collection layouts-droppable nf-field-type-droppable nf-fields-sortable',\n\t\tchildView: RowItemView,\n\t\treorderOnSort: true,\n\n\t\tgetEmptyView: function() {\n\t\t\treturn nfRadio.channel( 'views' ).request( 'get:mainContentEmpty' );\n\t\t},\n\n\t\tinitialize: function() {\n\t\t\tthis.collection.on( 'add', this.maybeInitSortable, this );\n\t\t},\n\n\t\tonBeforeDestroy: function() {\n\t\t\tthis.collection.off( 'add', this.maybeInitSortable );\n\t\t},\n\n\t\t/**\n\t\t * When we render this view, init our rows collection sortable.\n\t\t * \n\t\t * @since  3.0\n\t\t * @return void\n\t\t */\n\t\tonRender: function() {\n\t\t\tthis.maybeInitSortable();\n\t\t},\n\n\t\tmaybeInitSortable: function() {\n\t\t\tif ( 0 < this.collection.models.length ) {\n\t\t\t\tthis.initSortable();\n\t\t\t}\t\t\t\n\t\t},\n\n\t\tinitSortable: function() {\n\t\t\tvar that = this;\n\t\t\t// Init our sortable.\n\t\t\tjQuery( this.el ).sortable( {\n\t\t\t\thelper: 'clone',\n\t\t\t\thandle: '.gutter:first',\n\t\t\t\titems: '.layouts-row',\n\t\t\t\tcancel: '.layouts-cell',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tplaceholder: 'nf-fields-sortable-placeholder',\n\t\t\t\tappendTo: '#nf-main',\n\t\t\t\tgrid: [ 5, 5 ],\n\n\t\t\t\t/**\n\t\t\t\t * When we start dragging an item, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tstart: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'start:rowsSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we stop dragging an item, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tstop: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'stop:rowsSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we drag an item over our sortable, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tover: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'over:rowsSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we move an item off of our sortable, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tout: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'out:rowsSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we drop an item on the sortable, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\treceive: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'receive:rowsSortable', e, ui, that, this );\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * When we drop an item onto our sortable that changes our item order, trigger an event.\n\t\t\t\t * \n\t\t\t\t * @since  3.0\n\t\t\t\t * @param  object \te  event\n\t\t\t\t * @param  object \tui jQuery UI element\n\t\t\t\t * @return void\n\t\t\t\t */\n\t\t\t\tupdate: function( e, ui ) {\n\t\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'update:rowsSortable', e, ui, that, this );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t} );\n\n\treturn view;\n} );\n","define( 'controllers/data',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\toverSortable: false,\n\t\toutFired: false,\n\t\toverCell: false,\n\t\toverRows: false,\n\n\t\tinitialize: function() {\n\t\t\t// Respond to requests to add a row to our collection.\n\t\t\tnfRadio.channel( 'layouts' ).reply( 'add:row', this.addRow, this );\n\t\t},\n\n\t\taddRow: function( rowCollection, data ) {\n\n\t\t\tif ( ! rowCollection ) {\n\t\t\t\t/*\n\t\t\t\t * In the RC for Ninja Forms, 'formContentData' was 'fieldContentsData'.\n\t\t\t\t * In 3.0, we changed it to 'formContentData', so this line checks for that old setting name if the new one doesn't exist.\n\t\t\t\t * This is for backwards compatibility and can be removed in the future.\n\t\t\t\t *\n\t\t\t\t * TODO: Remove the || portion of this ternary.\n\t\t\t\t */\n\t\t\t\trowCollection = nfRadio.channel( 'settings' ).request( 'get:setting', 'formContentData' ) || nfRadio.channel( 'settings' ).request( 'get:setting', 'fieldContentsData' );\n\t\t\t}\n\n\t\t\tif ( 'undefined' == typeof data.order ) {\n\t\t\t\tdata.order = 999;\n\t\t\t}\n\n\t\t\tvar rowModel = rowCollection.add( {\n\t\t\t\torder: data.order,\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\torder: 0,\n\t\t\t\t\t\tfields: [ data.field ],\n\t\t\t\t\t\twidth: '100'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t} );\n\n\t\t\treturn rowModel;\n\t\t},\n\n\t\tupdateOverSortable: function( val ) {\n\t\t\tthis.overSortable = val;\n\t\t},\n\n\t\tgetOverSortable: function() {\n\t\t\treturn this.overSortable;\n\t\t},\n\n\t\tupdateOutFired: function( val ) {\n\t\t\tthis.outFired = val;\n\t\t},\n\n\t\tgetOutFired: function() {\n\t\t\treturn this.outFired;\n\t\t},\n\n\t\tupdateOverCell: function( val ) {\n\t\t\tthis.overCell = val;\n\t\t},\n\n\t\tgetOverCell: function() {\n\t\t\treturn this.overCell;\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","define( 'controllers/maxCols',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'layouts' ).reply( 'update:colClass', this.updateColClass );\n\t\t},\n\n\t\tupdateColClass: function( num ) {\n\t\t\tvar builderEl = nfRadio.channel( 'app' ).request( 'get:builderEl' );\n\t\t\tjQuery( builderEl ).removeClass( 'few several many' );\n\n\t\t\tif ( num == 3 ) {\n\t\t\t\tvar builderClass = 'few';\n\t\t\t} else if ( num >= 4 && num <= 5 ) {\n\t\t\t\tvar builderClass = 'several';\n\t\t\t} else if ( num >= 6 ) {\n\t\t\t\tvar builderClass = 'many';\n\t\t\t} else {\n\t\t\t\tvar builderClass = '';\n\t\t\t}\n\n\t\t\tjQuery( builderEl ).addClass( builderClass );\n\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define( 'controllers/addField',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tvar fieldCollection = nfRadio.channel( 'fields' ).request( 'get:collection' );\n\t\t\tfieldCollection.on( 'add', this.maybeAddRow, this );\n\n\t\t\tthis.listenTo( nfRadio.channel( 'drawer-addField' ), 'startDrag:type', this.startDragging );\n\t\t\tthis.listenTo( nfRadio.channel( 'drawer-addField' ), 'stopDrag:type', this.stopDragging );\n\n\t\t\tthis.listenTo( nfRadio.channel( 'drawer-addField' ), 'startDrag:fieldStaging', this.startDragging );\n\t\t\tthis.listenTo( nfRadio.channel( 'drawer-addField' ), 'stopDrag:fieldStaging', this.stopDragging );\n\t\t},\n\n\t\tmaybeAddRow: function( model ) {\n\t\t\tif ( ! model.get( 'cellcid' ) ) {\n\t\t\t\tvar order = ( ! model.get( 'order' ) ) ? 999 : model.get( 'order' );\n\t\t\t\tnfRadio.channel( 'layouts' ).request( 'add:row', null, { order: order, field: model } );\n\t\t\t}\n\t\t},\n\n\t\tstartDragging: function( ui ) {\n\t\t\tjQuery( '.layouts-row' ).addClass( 'dragging' );\n\t\t\tjQuery( '#nf-builder' ).addClass( 'layouts-dragging' );\n\t\t},\n\n\t\tstopDragging: function( ui ) {\n\t\t\tjQuery( '.layouts-row' ).removeClass( 'dragging' );\n\t\t\tjQuery( '#nf-builder' ).removeClass( 'layouts-dragging' );\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","/**\n * Controller that handles our cell sortable events.\n */\ndefine( 'controllers/cellSortable',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\t// By default, we aren't dropping on a gutter/divider\n\t\tdropping: false,\n\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Respond to requests for our sortable drag helper.\n\t\t\t */\n\t\t\tnfRadio.channel( 'layouts' ).reply( 'getHelper:cellSortable', this.getHelper, this );\n\t\t\t\n\t\t\t/*\n\t\t\t * Listen to events triggered by our cell sortables.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'over:cellSortable', this.over );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'out:cellSortable', this.out );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'sort:cellSortable', this.sort );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'start:cellSortable', this.start );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'stop:cellSortable', this.stop );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'update:cellSortable', this.update );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'receive:cellSortable', this.receive );\n\t\t\t\n\t\t\t/*\n\t\t\t * Listen to triggers that we're dragging a new field type.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'drawer-addField' ), 'drag:type', this.dragFieldType );\n\t\t\n\t\t\t/*\n\t\t\t * Listen to requests to set dropping state.\n\t\t\t */ \n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'set:dropping', this.setDropping );\n\t\t\n\t\t\t/*\n\t\t\t * Listen to triggers that we're deleting a cell\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'click:deleteCell', this.deleteCell );\n\t\t},\n\n\t\t/**\n\t\t * When we are over a cell sortable, we need to:\n\t\t *\n\t\t * 1) Change the width of the helper to match the sortable\n\t\t * 2) If a gutter has a placholder class, remove it so that we don't have multiple placeholders\n\t\t * 3) If we only have one cell and one field, remove any placeholders in this row.\n\t\t * 4) Trigger the Ninja Forms default handler for being over a field sortable.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tover: function( e, ui, cellView, sortable ) {\n\t\t\t// Change the size of our dragged element.\n\t\t\tjQuery( ui.helper ).css( 'width', jQuery( sortable ).css( 'width' ) );\n\t\t\t// If we have a gutter with a placeholder class, remove it and add a temporary placeholder.\n\t\t\tjQuery( '#nf-main' ).find( '.gutter.nf-fields-sortable-placeholder' ).removeClass( 'nf-fields-sortable-placeholder' );\n\t\t\t// If we only have one cell and one field, remove any placeholders in this row.\n\t\t\tif ( cellView.collection.models.length == 1 && 1 == cellView.cellCollection.length ) {\n\t\t\t\tjQuery( sortable ).parent().find( '.nf-fields-sortable-placeholder' ).addClass( 'nf-placeholder-removed' ).removeClass( 'nf-fields-sortable-placeholder' );\n\t\t\t\tjQuery( sortable ).parent().find( '.nf-placeholder-removed' ).prev().css( 'margin-bottom', '0' );\n\t\t\t}\n\t\t\t// Trigger Ninja Forms default handler for being over a field sortable.\n\t\t\tnfRadio.channel( 'app' ).request( 'over:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we move out from a cell sortable, we need to:\n\t\t *\n\t\t * 1) Trigger the default Ninja Forms handler for mouse out of a sortable.\n\t\t * 2) Add the placeholder class back to any we removed in the over method.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tout: function( e, ui, cellView, sortable ) {\n\t\t\tnfRadio.channel( 'app' ).request( 'out:fieldsSortable', ui );\n\t\t\tif ( cellView.collection.models.length == 1 && 1 == cellView.cellCollection.length ) {\n\t\t\t\tjQuery( sortable ).parent().find( '.nf-placeholder-removed' ).prev().css( 'margin-bottom', '' );\n\t\t\t\tjQuery( sortable ).parent().find( '.nf-placeholder-removed' ).addClass( 'nf-fields-sortable-placeholder' ).removeClass( 'nf-placeholder-removed' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The contents of this method have been commented out because I'm not sure that we need them anymore.\n\t\t * This was a fix for a bug that occurred when dragging the staging area. The placeholder would jump\n\t\t * out of the target sortable and off-screen. This seems to be fixed in the current version, but I'm leaving\n\t\t * this code incase we need to reference it again. It wasn't easy to find.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tsort: function( e, ui, cellView, sortable ) {\n\t\t\t// if ( 0 == ui.placeholder.position().left ) {\n        \t\t // jQuery( ui.item ).before( ui.placeholder );\n        \t// }\n\t\t},\n\n\t\t/**\n\t\t * When we start dragging the sortable items:\n\t\t * 1) Set the fieldCollection property to the cellView collection\n\t\t * 2) Add a dragging class to our layouts row\n\t\t * 3) Add a dragging class to our builder\n\t\t * 4) Trigger our Ninja Forms default start for fields sortable.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tstart: function( e, ui, cellView, sortable ) {\n\t\t\tui.item.fieldCollection = cellView.collection;\n\t\t\tjQuery( '.layouts-row' ).addClass( 'dragging' );\n\t\t\tjQuery( '#nf-builder' ).addClass( 'layouts-dragging' );\n\t\t\tnfRadio.channel( 'app' ).request( 'start:fieldsSortable', ui );\n\t\t\tif ( this.dropping ) {\n\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'set:dropping', false );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When we stop dragging the sortable items:\n\t\t * 1) Remove our dragging classes\n\t\t * 2) Trigger our Ninja Forms default stop for fields sortable.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tstop: function( e, ui, cellView, sortable ) {\n\t\t\tjQuery( '.layouts-row' ).removeClass( 'dragging' );\n\t\t\tjQuery( '#nf-builder' ).removeClass( 'layouts-dragging' );\n\t\t\tnfRadio.channel( 'app' ).request( 'stop:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we update, check to make sure that we are dragging a sortable item and not a new field type.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tupdate: function( e, ui, cellView, sortable ) {\n\t\t\t/*\n\t\t\t * Both the receive event above and the update event are fired when we drag items from one list to another.\n\t\t\t * We only want to fire this event if we are dragging within the same list.\n\t\t\t */\n\t\t\tif ( sortable === ui.item.parent()[0]) { // Make sure that we are dragging within the same list\n\t\t\t\tvar fieldID = jQuery( ui.item ).data( 'id' );\n\t\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\n\t\t\t\t// Get our sortable order.\n\t\t\t\tvar order = jQuery( sortable ).sortable( 'toArray' );\n\t\t\t\tvar oldOrder = [];\n\t\t\t\t/*\n\t\t\t\t * We have to update every model's order based upon our order array.\n\t\t\t\t * Loop through all of our fields and update their order value\n\t\t\t\t */\n\t\t\t\t_.each( cellView.collection.models, function( field ) {\n\t\t\t\t\tvar id = field.get( 'id' );\n\t\t\t\t\tif ( jQuery.isNumeric( id ) ) {\n\t\t\t\t\t\tvar search = 'field-' + id;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar search = id;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\t\tvar newPos = order.indexOf( search ) + 1;\n\t\t\t\t\toldOrder[ field.get( 'cellOrder' ) ] = field.get( 'id' );\n\t\t\t\t\tfield.set( 'cellOrder', newPos );\n\t\t\t\t} );\n\t\t\t\t// Sort our field collection.\n\t\t\t\tcellView.collection.sort();\n\n\t\t\t\t// Update our field order attribute\n\t\t\t\tnfRadio.channel( 'layouts' ).request( 'update:fieldOrder', cellView.options.cellCollection.options.rowModel.collection );\n\n\t\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t\t// Update our preview\n\t\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\n\t\t\t\t// Add our field addition to our change log.\n\t\t\t\tvar label = {\n\t\t\t\t\tobject: 'Field',\n\t\t\t\t\tlabel: fieldModel.get( 'label' ),\n\t\t\t\t\tchange: 'Re-ordered',\n\t\t\t\t\tdashicon: 'sort'\n\t\t\t\t};\n\n\t\t\t\tvar data = {\n\t\t\t\t\tlayouts: true,\n\t\t\t\t\toldOrder: oldOrder,\n\t\t\t\t\tfieldCollection: cellView.collection\n\t\t\t\t};\n\n\t\t\t\t/*\n\t\t\t\t * Disable the next Layouts change\n\t\t\t\t */\n\t\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t\t}\n\t\t\t\t}, this );\n\n\t\t\t\tvar newChange = nfRadio.channel( 'changes' ).request( 'register:change', 'cellSorting', fieldModel, null, label, data );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The 'receive' event fires whenever we drop a new field type, the staging area, or a field from another cell.\n\t\t * We need to react to each of these events differently.\n\t\t *\n\t\t * If we drop a new field type:\n\t\t * 1) Add the field to the Ninja Forms field collection.\n\t\t * 2) Add the field to our collection.\n\t\t * 3) Sort our fields.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\treceive: function( e, ui, cellView, sortable ) {\n\t\t\t/*\n\t\t\t * If we are dropping on a gutter, the this.dropping will be set to true.\n\t\t\t * Once we know we've dropped, reset dropping to false.\n\t\t\t * We only want to receive if we didn't drop on a gutter/divider.\n\t\t\t */\n\t\t\tif ( this.dropping ) {\n\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'set:dropping', false );\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( jQuery( ui.item ).hasClass( 'nf-field-wrap' ) ) { // An item from another cell sortable.\n\t\t\t\tthis.receiveCurrentField( e, ui, cellView, sortable );\n\t\t\t} else if ( jQuery( ui.item ).hasClass( 'nf-field-type-draggable' ) ) { // New Field Type Draggable\n\t\t\t\tthis.receiveNewField( e, ui, cellView, sortable );\n\t\t\t} else { // Staging\n\t\t\t\tthis.receiveFieldStaging( e, ui, cellView, sortable );\t\t\t\t\t\t\n\t\t\t}\n\t\t\t// Update our field order attribute\n\t\t\tnfRadio.channel( 'layouts' ).request( 'update:fieldOrder', cellView.options.cellCollection.options.rowModel.collection );\n\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t// Update our preview\n\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\t\t\t\n\t\t},\n\n\t\t/**\n\t\t * Fires when we drag a new field type into our cell sortable.\n\t\t * 1) Adds a new field model\n\t\t * 2) Sorts our field collection\n\t\t * 3) Removes the helper\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\treceiveNewField: function( e, ui, cellView, sortable ) {\n\t\t\t// Get our type string\n\t\t\tvar type = jQuery( ui.item ).data( 'id' );\n\t\t\t/*\n\t\t\t * Add a field.\n\t\t\t * Passing the cid of our current cell model causes the field to be added to our cell.\n\t\t\t */ \n\t\t\tvar newModel = this.addField( type, cellView.model.cid );\n\t\t\t/*\n\t\t\t * Update our helper id to the tmpID.\n\t\t\t * We do this so that when we sort, we have the proper ID.\n\t\t\t */ \n\t\t\tjQuery( ui.helper ).prop( 'id', newModel.get( 'id' ) );\n\t\t\tvar order = jQuery( sortable ).sortable( 'toArray' );\n\t\t\t// Sort our field collection\n\t\t\tthis.sortFields( order, cellView.model.get( 'fields' ) );\n\t\t\t// Trigger a drop field type event.\n\t\t\tnfRadio.channel( 'fields' ).trigger( 'drop:fieldType', type, newModel );\n\t\t\t// Remove the helper. Gets rid of a weird type artifact.\n\t\t\tjQuery( ui.helper ).remove();\n\t\t\t/**\n\t\t\t * TODO: Add in support for undoing adding a new field.\n\t\t\t */\n\t\t\t\n\t\t\t// // Add our field addition to our change log.\n\t\t\t// var label = {\n\t\t\t// \tobject: 'Field',\n\t\t\t// \tlabel: newModel.get( 'label' ),\n\t\t\t// \tchange: 'Field Added',\n\t\t\t// \tdashicon: 'plus-alt'\n\t\t\t// };\n\n\t\t\t// var data = {\n\t\t\t// \tlayouts: true,\n\t\t\t// \tfieldCollection: cellView.collection\n\t\t\t// };\n\t\t\t\n\t\t\t// /*\n\t\t\t//  * Disable Layouts changes\n\t\t\t//  */\n\t\t\t// var changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t// _.each( changeCollection.models, function( changeModel ) {\n\t\t\t// \tvar data = changeModel.get( 'data' );\n\t\t\t// \tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t// \t\tchangeModel.set( 'disabled', true );\n\t\t\t// \t}\n\t\t\t// }, this );\n\n\t\t\t// var newChange = nfRadio.channel( 'changes' ).request( 'register:change', 'cellNewField', newModel, null, label, data );\n\n\t\t},\n\n\t\t/**\n\t\t * Fires when we drag the staging area into our cell sortable.\n\t\t * 1) Gets our staging field types\n\t\t * 2) Adds a new field for each of those types\n\t\t * 3) Sort our fields\n\t\t * 4) Remove the helper \n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\treceiveFieldStaging: function( e, ui, cellView, sortable ) {\n\t\t\t// Make sure that our staged fields are sorted properly.\t\n\t\t\tnfRadio.channel( 'fields' ).request( 'sort:staging' );\n\t\t\t// Grab our staged fields.\n\t\t\tvar stagedFields = nfRadio.channel( 'fields' ).request( 'get:staging' );\n\n\t\t\t// If we're dealing with a sortable that isn't empty, get the order.\n\t\t\tvar order = jQuery( sortable ).sortable( 'toArray' );\n\t\t\t// Get the index of our droped element.\n\t\t\tvar insertedAt = order.indexOf( 'nf-staged-fields-drag' );\n\t\t\t// Remove our dropped element from our order array.\n\t\t\torder.splice( insertedAt, 1 );\n\n\t\t\t// Loop through each staged fields model and insert a field.\n\t\t\tvar tmpIDs = [];\n\t\t\t_.each( stagedFields.models, function( field, index ) {\n\t\t\t\t/*\n\t\t\t\t * Add a field.\n\t\t\t\t * Passing the cid of our current cell model causes the field to be added to our cell.\n\t\t\t\t */\n\t\t\t\tvar newModel = this.addField( field.get( 'slug' ), cellView.model.cid );\n\t\t\t\t// Add this newly created field to our order array.\n\t\t\t\torder.splice( insertedAt + index, 0, newModel.get( 'id' ) );\n\t\t\t}, this );\n\n\t\t\tthis.sortFields( order, cellView.model.get( 'fields' ) );\n\t\t\t// Clear our staging\n\t\t\tnfRadio.channel( 'fields' ).request( 'clear:staging' );\n\t\t\t// Remove our helper. Fixes a weird artifact.\n\t\t\tjQuery( ui.helper ).remove();\n\n\t\t\t/**\n\t\t\t * TODO: Add in support for undoing adding staged fields.\n\t\t\t */\n\t\t\t\n\t\t},\n\n\t\t/**\n\t\t * Fires when we drag a field from another cell into our cell sortable.\n\t\t * 1) Adds the field model to our cell collection\n\t\t * 2) Sort our fields\n\t\t * 3) Remove the field from the original cell\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\treceiveCurrentField: function( e, ui, cellView, sortable ) {\n\t\t\t/*\n\t\t\t * When we receive an item add it to our collection\n\t\t\t */\n\t\t\tvar fieldID = jQuery( ui.item ).data( 'id' );\n\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\n\t\t\t/*\n\t\t\t * Get the old order of our sending cell\n\t\t\t */\n\t\t\tvar senderOldOrder = [];\n\t\t\t_.each( ui.item.fieldCollection.models, function( field, index ) {\n\t\t\t\tsenderOldOrder[ field.get( 'cellOrder' ) ] = field.get( 'id' );\n\t\t\t\t// senderOldOrder.push( fieldModel.get( 'cellOrder' ) );\n\t\t\t} );\n\n\t\t\t/*\n\t\t\t * Get the old order of our receiving cell\n\t\t\t */\n\t\t\tvar receiverOldOrder = [];\n\t\t\t_.each( cellView.collection.models, function( field, index ) {\n\t\t\t\treceiverOldOrder[ field.get( 'cellOrder' ) ] = field.get( 'id' );\n\t\t\t\t// receiverOldOrder.push( fieldModel.get( 'cellOrder' ) );\n\t\t\t} );\n\n\t\t\tcellView.collection.add( fieldModel );\n\n\t\t\tvar order = jQuery( sortable ).sortable( 'toArray' );\n\t\t\tthis.sortFields( order, cellView.collection );\n\n\t\t\tui.item.fieldCollection.remove( fieldModel );\n\n\t\t\t// Add our field addition to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Field',\n\t\t\t\tlabel: fieldModel.get( 'label' ),\n\t\t\t\tchange: 'Moved Between Cells',\n\t\t\t\tdashicon: 'randomize'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\toriginalCollection: ui.item.fieldCollection,\n\t\t\t\tnewCollection: cellView.collection,\n\t\t\t\tsenderOldOrder: senderOldOrder,\n\t\t\t\treceiverOldOrder: receiverOldOrder\n\t\t\t};\n\t\t\t\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tvar newChange = nfRadio.channel( 'changes' ).request( 'register:change', 'movedBetweenCells', fieldModel, null, label, data );\n\t\t},\n\n\t\t/**\n\t\t * Sort a fields collection by order.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object order        \t\tarray\n\t\t * @param  object collection       \tBackbone collection\n\t\t * @return void\n\t\t */\n\t\tsortFields: function( order, collection ) {\n\t\t\t/*\n\t\t\t * Loop through our collection and update our order.\n\t\t\t */\n\t\t\t_.each( collection.models, function( field ) {\n\t\t\t\t// Get our current position.\n\t\t\t\tvar oldPos = field.get( 'cellOrder' );\n\t\t\t\tvar id = field.get( 'id' );\n\t\t\t\tif ( jQuery.isNumeric( id ) ) {\n\t\t\t\t\tvar search = 'field-' + id;\n\t\t\t\t} else {\n\t\t\t\t\tvar search = id;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\tvar newPos = order.indexOf( search ) + 1;\n\t\t\t\tfield.set( 'cellOrder', newPos );\n\t\t\t} );\n\t\t\t// Sort our field collection.\n\t\t\tcollection.sort();\n\t\t},\n\n\t\t/**\n\t\t * Returns the sortable drag helper.\n\t\t * Places the cursor at the top/left of the draggable.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tgetHelper: function( e, cellView, sortable ) {\n\t\t\tif ( jQuery( e.target ).hasClass( 'nf-field-label' ) || jQuery( e.target ).hasClass( 'fa' ) ) {\n\t\t\t\tvar el = jQuery( e.target ).parent();\n\t\t\t} else if ( jQuery( e.target ).hasClass( 'required' ) ) {\n\t\t\t\tvar el = jQuery( e.target ).parent().parent();\n\t\t\t} else {\n\t\t\t\tvar el = e.target;\n\t\t\t}\n\t\t\tvar width = jQuery( el ).width();\n\t\t\tvar height = jQuery( el ).height();\n\t\t\tvar element = jQuery( el ).clone();\n\t\t\tvar left = width / 4;\n\t\t\tvar top = height / 2;\n\t\t\tjQuery( sortable ).sortable( 'option', 'cursorAt', { top: top, left: left } );\n\t\t\treturn element;\n\t\t},\n\n\t\t/**\n\t\t * Add a field.\n\t\t * Builds the object necessary to add a field to the field model collection.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  string \ttype   field type\n\t\t * @param  boolean \tsilent add silently\n\t\t * @return model \tnewModel\n\t\t */\n\t\taddField: function( type, cellcid, silent ) {\n\t\t\t// Default to false\n\t\t\tsilent = silent || false;\n\t\t\t// Get our field type model\n\t\t\tvar fieldType = nfRadio.channel( 'fields' ).request( 'get:type', type ); \n\t\t\t// Get our tmp ID\n\t\t\tvar tmpID = nfRadio.channel( 'fields' ).request( 'get:tmpID' );\n\t\t\t// Add our field\n\t\t\tvar newModel = nfRadio.channel( 'fields' ).request( 'add',  { id: tmpID, label: fieldType.get( 'nicename' ), type: type, cellcid: cellcid }, silent );\n\t\t\t// Add our field addition to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Field',\n\t\t\t\tlabel: newModel.get( 'label' ),\n\t\t\t\tchange: 'Added',\n\t\t\t\tdashicon: 'plus-alt'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\tcollection: nfRadio.channel( 'fields' ).request( 'get:collection' )\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tnfRadio.channel( 'changes' ).request( 'register:change', 'cellNewField', newModel, null, label, data );\n\n\t\t\treturn newModel;\n\t\t},\n\n\t\t/**\n\t\t * When we drag our new field type, make sure that its width stays consistent.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object draggable jQuery UI Object\n\t\t * @param  object ui        jQuery UI Object\n\t\t * @param  object e         event object\n\t\t * @return void\n\t\t */\n\t\tdragFieldType: function( draggable, ui, e ) {\n\t\t\tif ( ui.helper.hasClass( 'nf-field-type-button' ) ) {\n\t\t\t\tvar draggableInstance = jQuery( draggable ).draggable( 'instance' );\n\t\t\t\tjQuery( ui.helper ).css( 'width', draggableInstance.helperProportions.width );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Listens for the 'set dropping' trigger and sets the value on this view accordingly.\n\t\t * \n\t\t * @since 3.0\n\t\t * @param void\n\t\t */\n\t\tsetDropping: function( val ) {\n\t\t\tthis.dropping = val;\n\t\t},\n\n\t\t/**\n\t\t * When we click \"delete this cell\" in our cell view, remove that cell from its collection\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te        \tevent\n\t\t * @param  Backbone.view \tcellView \tBackbone view representing our single cell view\n\t\t * @return void\n\t\t */\n\t\tdeleteCell: function( e, cellView ) {\n\t\t\tvar cellModel = cellView.model;\n\t\t\tvar cellCollection = cellView.model.collection;\n\t\t\tvar rowModel = cellView.model.collection.options.rowModel;\n\t\t\tvar rowCollection = rowModel.collection;\n\n\t\t\t/*\n\t\t\t * Remove our cell model from the collection.\n\t\t\t */\n\t\t\tcellCollection.remove( cellModel );\n\n\t\t\t/*\n\t\t\t * Setup the values to add this to our undo manager\n\t\t\t */\n\t\t\tvar undoData = {\n\t\t\t\tlayouts: true,\n\t\t\t\trowCollection: rowCollection,\n\t\t\t\tcellCollection: cellCollection,\n\t\t\t\tcellModel: cellModel,\n\t\t\t\trowModel: rowModel\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * If we have more than one cell, recalculate our widths\n\t\t\t */\n\t\t\tif ( 1 == cellCollection.models.length ) { // We have one cell.\n\t\t\t\t/*\n\t\t\t\t * If we have one cell, we want to break any fields inside that cell up into their own rows.\n\t\t\t\t */\n\t\t\t\t\n\t\t\t\t// Get the order of our row\n\t\t\t\tvar order = rowModel.get( 'order' );\n\t\t\t\t// Store the new rows that we are going to create\n\t\t\t\tvar newRows = [];\n\t\t\t\t// Create a new row for each field in this cell.\n\t\t\t\t_.each( cellCollection.models[0].get( 'fields' ).models, function( fieldModel ) {\n\t\t\t\t\tvar newRowModel = nfRadio.channel( 'layouts' ).request( 'add:row', cellCollection.options.rowModel.collection, { order: order, field: fieldModel.get( 'id' ) } );\n\t\t\t\t\tnewRows.push( newRowModel );\n\t\t\t\t}, this );\n\n\t\t\t\t/*\n\t\t\t\t * After we insert our new rows, we remove our old row.\n\t\t\t\t */\n\t\t\t\trowCollection.remove( rowModel );\n\n\t\t\t\t/*\n\t\t\t\t * Add our new rows to the undo data object\n\t\t\t\t */\n\t\t\t\tundoData.newRows = newRows;\n\t\t\t}\n\n\t\t\t// Add our action deletion to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Cell',\n\t\t\t\tlabel: '',\n\t\t\t\tchange: 'Removed',\n\t\t\t\tdashicon: 'dismiss'\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\t\t\t\n\t\t\tnfRadio.channel( 'changes' ).request( 'register:change', 'removedCell', cellModel, null, label, undoData );\n\t\t\t\n\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t// Update our preview\n\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\n\n\t\t}\n\t});\n\n\treturn controller;\n} );\n\n","/**\n * Controller that handles events from the gutter/divider droppable\n */\ndefine( 'controllers/gutterDroppable',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tdropped: false,\n\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Listen for events triggered by our gutter droppables\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'over:gutterDroppable', this.over );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'out:gutterDroppable', this.out );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'drop:gutterDroppable', this.drop );\n\n\t\t\t/*\n\t\t\t * Listen to the drag events of our gutter slider.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'dragStart:gutterSlider', this.dragStart );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'drag:gutterSlider', this.drag );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'dragEnd:gutterSlider', this.dragEnd );\n\n\t\t},\n\n\t\t/**\n\t\t * When we're over a gutter droppable:\n\t\t * 1) Set our dropped property to false. (Helps prevent duplicate drop events later)\n\t\t * 2) Remove any placeholders on other elements.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tover: function( e, ui, rowView, droppable ) {\n\t\t\tthis.dropped = false;\n\t\t\tif ( jQuery( ui.helper ).hasClass( 'nf-field-type-draggable' ) ) {\n\t\t\t\tjQuery( ui.helper ).css( 'width', 300 );\n\t\t\t\tjQuery( '#nf-main' ).find( '.nf-fields-sortable-placeholder:not(.gutter)' ).addClass( 'nf-sortable-removed' ).removeClass( 'nf-fields-sortable-placeholder' );\n\t\t\t} else {\n\t\t\t\tjQuery( droppable ).addClass( 'nf-fields-sortable-placeholder' );\n\t\t\t\tjQuery( '#nf-main' ).find( '.nf-fields-sortable-placeholder:not(.gutter)' ).addClass( 'nf-sortable-removed' ).removeClass( 'nf-fields-sortable-placeholder' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When we're out of a gutter droppable:\n\t\t * 1) Reset any placeholders we removed in the over event.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object e        event\n\t\t * @param  object ui       ui object\n\t\t * @param  object cellView Backbone view\n\t\t * @param  object sortable jQuery UI element\n\t\t * @return void\n\t\t */\n\t\tout: function( e, ui, rowView, droppable ) {\n\t\t\tif ( jQuery( ui.helper ).hasClass( 'nf-field-type-draggable' ) ) {\n\t\t\t\tjQuery( '#nf-main' ).find( '.nf-sortable-removed' ).addClass( 'nf-fields-sortable-placeholder' );\n\t\t\t} else {\n\t\t\t\tjQuery( droppable ).removeClass( 'nf-fields-sortable-placeholder' );\n\t\t\t\tjQuery( '#nf-main' ).find( '.nf-sortable-removed' ).addClass( 'nf-fields-sortable-placeholder' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * There are three different items that we could be dropping:\n\t\t * 1) A new single field type\n\t\t * 2) The field staging draggable\n\t\t * 3) A field that already exists within another cell.\n\t\t *\n\t\t * Regardless of which we dropped, we create a new cell and eventually re-render the row.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object e        \tevent\n\t\t * @param  object ui       \tui object\n\t\t * @param  object rowView \tBackbone view\n\t\t * @param  object sortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tdrop: function( e, ui, rowView, droppable ) {\n\t\t\t/*\n\t\t\t * Because this droppable is nested inside a sortable, the drop event can be fired when the user drags over it.\n\t\t\t * The solution is to add a check to see when the user has their mousedown.\n\t\t\t *\n\t\t\t * To further make sure that this only fires once, we set \"dropped\" to false in the over event.\n\t\t\t * if \"dropped\" is set to true, we return false.\n\t\t\t */\n\t\t\tif ( jQuery( '#nf-builder' ).data( 'mousedown' ) || this.dropped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Prevent this drop event from firing twice from the same drop.\n\t\t\tthis.dropped = true;\n\n\t\t\t// Prevent any sortable lists from accepting this item.\n\t\t\tnfRadio.channel( 'layouts' ).trigger( 'set:dropping', true );\n\n\t\t\t// Get the order of our gutter.\n\t\t\tvar order = jQuery( droppable ).index() / 2;\n\t\t\t// Create a new cell in our row collection.\n\t\t\tvar newCell = this.addCell( order, rowView.collection );\n\n\t\t\tif ( jQuery( ui.helper ).hasClass( 'nf-field-type-draggable' ) ) { // Single Add New Field Type\n\t\t\t\tthis.dropNewField( e, ui, rowView, droppable, newCell );\n\t\t\t} else if ( jQuery( ui.helper ).hasClass( 'nf-stage' ) ) { // Field Staging\n\t\t\t\tthis.dropFieldStaging( e, ui, rowView, droppable, newCell );\n\t\t\t} else { // The field dropped already exists in another cell collection.\n\t\t\t\tthis.dropCurrentField( e, ui, rowView, droppable, newCell );\n\t\t\t}\n\n\t\t\t// Update our field order attribute\n\t\t\tnfRadio.channel( 'layouts' ).request( 'update:fieldOrder', rowView.model.collection );\n\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t// Update our preview\n\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\t\t\t// Re-apply our sortable class to any that we removed.\n\t\t\tjQuery( '#nf-main' ).find( '.nf-sortable-removed' ).addClass( 'nf-fields-sortable-placeholder' );\n\t\t\t// Re-render our row.\n\t\t\trowView.render();\n\t\t},\n\n\t\t/**\n\t\t * Add a field to our new cell.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object \t\t\te         event\n\t\t * @param  object \t\t\tui        jQuery UI element\n\t\t * @param  Backbone.view \trowView   Single Row View\n\t\t * @param  object \t\t\tdroppable jQuery UI element\n\t\t * @param  Backbone.model \tnewCell   cell model\n\t\t * @return void\n\t\t */\n\t\tdropNewField: function( e, ui, rowView, droppable, newCell ) {\n\t\t\t// Get our type string\n\t\t\tvar type = jQuery( ui.draggable ).data( 'id' );\n\t\t\t// Add a field (returns the tmp ID )\n\t\t\tvar newModel = this.addField( type, newCell, false );\n\t\t\t// Remove our dragged element.\n\t\t\tjQuery( ui.helper ).remove();\n\n\t\t\t// // Add our field addition to our change log.\n\t\t\t// var label = {\n\t\t\t// \tobject: 'Field / Cell',\n\t\t\t// \tlabel: newModel.get( 'label' ),\n\t\t\t// \tchange: 'Added',\n\t\t\t// \tdashicon: 'plus-alt'\n\t\t\t// };\n\n\t\t\t// var data = {\n\t\t\t// \tlayouts: true,\n\t\t\t// \tfieldCollection: nfRadio.channel( 'fields' ).request( 'get:collection' ),\n\t\t\t// \tnewCell: newCell,\n\t\t\t// };\n\n\t\t\t// /*\n\t\t\t//  * Disable Layouts changes\n\t\t\t//  */\n\t\t\t// var changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t// _.each( changeCollection.models, function( changeModel ) {\n\t\t\t// \tvar data = changeModel.get( 'data' );\n\t\t\t// \tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t// \t\tchangeModel.set( 'disabled', true );\n\t\t\t// \t}\n\t\t\t// }, this );\n\n\t\t\t// nfRadio.channel( 'changes' ).request( 'register:change', 'gutterDropNewField', newModel, null, label, data );\n\t\t},\n\n\t\t/**\n\t\t * Add a field to our new cell for each item in our staging area.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object \t\t\te         event\n\t\t * @param  object \t\t\tui        jQuery UI element\n\t\t * @param  Backbone.view \trowView   Single Row View\n\t\t * @param  object \t\t\tdroppable jQuery UI element\n\t\t * @param  Backbone.model \tnewCell   cell model\n\t\t * @return void\n\t\t */\n\t\tdropFieldStaging: function( e, ui, rowView, droppable, newCell ) {\n\t\t\t// Make sure that our staged fields are sorted properly.\n\t\t\tnfRadio.channel( 'fields' ).request( 'sort:staging' );\n\n\t\t\t// Grab our staged fields.\n\t\t\tvar stagedFields = nfRadio.channel( 'fields' ).request( 'get:staging' );\n\n\t\t\t// Loop through each staged fields model and insert a field.\n\t\t\tvar tmpIDs = [];\n\t\t\t_.each( stagedFields.models, function( field, index ) {\n\t\t\t\t// Add our field.\n\t\t\t\tvar newModel = this.addField( field.get( 'slug' ), newCell );\n\t\t\t}, this );\n\n\t\t\t// Clear our staging\n\t\t\tnfRadio.channel( 'fields' ).request( 'clear:staging' );\n\t\t\t// Remove our helper. Fixes a weird artifact.\n\t\t\tjQuery( ui.helper ).remove();\n\t\t},\n\n\t\t/**\n\t\t * Copy a field to our new cell that already exists on the form.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object \t\t\te         event\n\t\t * @param  object \t\t\tui        jQuery UI element\n\t\t * @param  Backbone.view \trowView   Single Row View\n\t\t * @param  object \t\t\tdroppable jQuery UI element\n\t\t * @param  Backbone.model \tnewCell   cell model\n\t\t * @return void\n\t\t */\n\t\tdropCurrentField: function( e, ui, rowView, droppable, newCell ) {\n\t\t\t// Get our field id.\n\t\t\tvar fieldID = jQuery( ui.draggable ).data( 'id' );\n\t\t\t// Get our field model from the ID\n\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\tvar oldCollection = ui.draggable.fieldCollection;\n\t\t\t// Add our field to our new cell model\n\t\t\tnewCell.get( 'fields' ).add( fieldModel );\n\t\t\t// Remove our field from its old cell model.\n\t\t\tui.draggable.fieldCollection.remove( fieldModel );\n\t\t\t// Remove the element that was originally dragged. Keep the helper.\n\t\t\tjQuery( ui.draggable ).remove();\n\n\t\t\t// Add our field addition to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Field',\n\t\t\t\tlabel: fieldModel.get( 'label' ),\n\t\t\t\tchange: 'New Cell',\n\t\t\t\tdashicon: 'image-flip-horizontal'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\toldCollection: oldCollection,\n\t\t\t\tnewCell: newCell,\n\t\t\t\tcellCollection: rowView.collection,\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tvar changeModel = nfRadio.channel( 'changes' ).request( 'register:change', 'gutterSplitCell', fieldModel, null, label, data );\n\t\t},\n\n\t\tdragStart: function( data, cellCollection ) {\n\t\t\tvar widths = this.getDraggedWidths( data, cellCollection );\n\t\t\tvar percentLeft = widths.a;\n\t\t\tvar percentRight = widths.b;\n\n\t\t\tjQuery( data.gutter ).append( '<span class=\"percent-left\">' + percentLeft + '%</span><span class=\"percent-right\">' + percentRight + '%</span>' );\n\t\t},\n\n\t\tdrag: function( data, cellCollection ) {\n\t\t\tvar widths = this.getDraggedWidths( data, cellCollection );\n\t\t\tvar percentLeft = widths.a;\n\t\t\tvar percentRight = widths.b;\n\n\t\t\tjQuery( data.gutter ).find( '.percent-left' ).html( percentLeft + '%' );\n\t\t\tjQuery( data.gutter ).find( '.percent-right' ).html( percentRight + '%' );\n\t\t},\n\n\t\t/**\n\t\t * When we resize our cell, update the data model.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  object \tdata Split.js data object\n\t\t * @return void\n\t\t */\n\t\tdragEnd: function( data, cellCollection ) {\n\t\t\tvar widths = this.getDraggedWidths( data, cellCollection );\n\t\t\tvar awidth = widths.a;\n\t\t\tvar bwidth = widths.b;\n\n\t\t\t// Get our data models.\n\t\t\tvar modelA = jQuery( data.a ).data( 'model' );\n\t\t\tvar modelB = jQuery( data.b ).data( 'model' );\n\n\t\t\tvar oldModelAWidth = modelA.get( 'width' );\n\t\t\tvar oldModelBWidth = modelB.get( 'width' );\n\n\t\t\tjQuery( data.gutter ).find( '.percent-left' ).remove();\n\t\t\tjQuery( data.gutter ).find( '.percent-right' ).remove();\n\n\t\t\tif ( oldModelAWidth == awidth && oldModelBWidth == bwidth ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Update our width\n\t\t\tmodelA.set( 'width', awidth );\n\t\t\tmodelB.set( 'width', bwidth );\n\n\t\t\t/*\n\t\t\t * Add our field addition to our change log.\n\t\t\t */\n\n\t\t\tvar label = {\n\t\t\t\tobject: 'Cells',\n\t\t\t\tlabel: '',\n\t\t\t\tchange: 'Resized',\n\t\t\t\tdashicon: 'editor-code'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\tgutter: data.gutter,\n\t\t\t\tcellCollection: cellCollection,\n\t\t\t\tmodelA: modelA,\n\t\t\t\toldModelAWidth: oldModelAWidth,\n\t\t\t\tmodelB: modelB,\n\t\t\t\toldModelBWidth: oldModelBWidth\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tnfRadio.channel( 'changes' ).request( 'register:change', 'gutterResize', modelA, null, label, data );\n\n\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t// Update our preview\n\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\n\t\t},\n\n\t\t/**\n\t\t * Add a field.\n\t\t * Builds the object necessary to add a field to the field model collection.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  string \t\t\t\ttype   \t\tfield type\n\t\t * @param  Backbone.object   \tnewCell \tthe cell this field lives in\n\t\t * @param  boolean \t\t\t\tsilent \t\tadd silently\n\t\t * @return model \t\t\t\tnewModel\n\t\t */\n\t\taddField: function( type, newCell, silent ) {\n\t\t\t// Default to false\n\t\t\tsilent = silent || false;\n\t\t\t// Get our field type model\n\t\t\tvar fieldType = nfRadio.channel( 'fields' ).request( 'get:type', type );\n\t\t\t// Get our tmp ID\n\t\t\tvar tmpID = nfRadio.channel( 'fields' ).request( 'get:tmpID' );\n\t\t\t// Add our field\n\t\t\tvar newModel = nfRadio.channel( 'fields' ).request( 'add',  { id: tmpID, label: fieldType.get( 'nicename' ), type: type, cellcid: newCell.cid }, silent );\n\n\t\t\t// Add our field addition to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Field / Cell',\n\t\t\t\tlabel: newModel.get( 'label' ),\n\t\t\t\tchange: 'Added',\n\t\t\t\tdashicon: 'plus-alt'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\tfieldCollection: nfRadio.channel( 'fields' ).request( 'get:collection' ),\n\t\t\t\tnewCell: newCell\n\t\t\t};\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tnfRadio.channel( 'changes' ).request( 'register:change', 'gutterDropNewField', newModel, null, label, data );\n\t\t\t\n\t\t\treturn newModel;\n\t\t},\n\n\t\t/**\n\t\t * Add a cell to the passed collection.\n\t\t *\n\t\t * @since  3.0\n\t\t * @param  int \t\t\t\t\torder      \tOrder for our new cell in the row\n\t\t * @param  Backbone.collection \tcollection \tCell collection\n\t\t * @param  array \t\t\t\tfields     \tOptional array of fields to add to the cell.\n\t\t * @return Backbone.model \t\tnewCell \tNew cell model\n\t\t */\n\t\taddCell: function( order, collection, fields ) {\n\t\t\tvar fields = fields || [];\n\t\t\t// Update any cells that have an order equal to or higher than our order.\n\t\t\t_.each( collection.models, function( cell ) {\n\t\t\t\tif ( cell.get( 'order' ) >= order ) {\n\t\t\t\t\tcell.set( 'order', cell.get( 'order' ) + 1 );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Add a new cell to our cell collection.\n\t\t\tvar newCell = collection.add( {\n\t\t\t\torder: order,\n\t\t\t\tfields: fields,\n\t\t\t\twidth: ''\n\t\t\t} );\n\n\t\t\t// collection.sort();\n\n\t\t\treturn newCell;\n\t\t},\n\n\t\tgetDraggedWidths: function( data, cellCollection ) {\n\t\t\t// Get the widths of the cell to the left and right of the dragged gutter.\n\t\t\tvar awidth = jQuery( data.a ).data( 'width' );\n\t\t\tvar bwidth = jQuery( data.b ).data( 'width' );\n\n\t\t\treturn {\n\t\t\t\ta: awidth,\n\t\t\t\tb: bwidth,\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n\n","/**\n * Controller that handles row collection sortables.\n */\ndefine( 'controllers/rowsSortable',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tdropping: false,\n\n\t\tinitialize: function() {\n\t\t\t/*\n\t\t\t * Listen for events from our row collection sortable.\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'over:rowsSortable', this.over );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'out:rowsSortable', this.out );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'start:rowsSortable', this.start );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'stop:rowsSortable', this.stop );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'update:rowsSortable', this.update );\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'receive:rowsSortable', this.receive );\n\t\t\t\n\t\t\t/*\n\t\t\t * Listen to our set dropping trigger\n\t\t\t */\n\t\t\tthis.listenTo( nfRadio.channel( 'layouts' ), 'set:dropping', this.setDropping );\n\t\t},\n\n\t\t/**\n\t\t * When we start dragging, set our dropping value to false and fire the default Ninja Forms event.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tstart: function( e, ui, rowsView, sortable ) {\n\t\t\tif ( this.dropping ) {\n\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'set:dropping', false );\n\t\t\t}\n\t\t\tnfRadio.channel( 'app' ).request( 'start:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we drag over our sortable, set our helper width and fire the default Ninja Forms event.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tover: function( e, ui, rowsView, sortable ) {\n\t\t\tjQuery( ui.helper ).css( 'width', jQuery( sortable ).css( 'width' ) );\n\t\t\tnfRadio.channel( 'app' ).request( 'over:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we drag out of our sortable, fire the default Ninja Forms event.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tout: function( e, ui, rowsView, sortable ) {\n\t\t\tnfRadio.channel( 'app' ).request( 'out:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we stop dragging our sortable, fire the default Ninja Forms event.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tstop: function( e, ui, rowsView, sortable ) {\n\t\t\tnfRadio.channel( 'app' ).request( 'stop:fieldsSortable', ui );\n\t\t},\n\n\t\t/**\n\t\t * When we update the order of our sortable update the order of the models in our collection.\n\t\t * We only want to update if the user didn't drop on a gutter/divider.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\tupdate: function( e, ui, rowsView, sortable ) {\n\t\t\t// Make sure that we're dropping a field and that we aren't dropping on a gutter/divider\n\t\t\tif( ! jQuery( ui.item ).hasClass( 'nf-stage' ) && ! jQuery( ui.item ).hasClass( 'nf-field-wrap' ) && ! this.dropping ) {\n\t\t\t\tvar order = jQuery( sortable ).sortable( 'toArray' );\n\t\t\t\tvar oldOrder = [];\n\t\t\t\t// var rowCollection = nfRadio.channel( 'layouts-row' ).request( 'get:collection' );\n\t\t\t\t_.each( order, function( cid, index ) {\n\t\t\t\t\toldOrder[ rowsView.collection.get( { cid: cid } ).get( 'order' ) ] = cid;\n\t\t\t\t\trowsView.collection.get( { cid: cid } ).set( 'order', index + 1 );\n\t\t\t\t} );\n\n\t\t\t\trowsView.collection.sort();\n\n\t\t\t\t// Update our field order attribute\n\t\t\t\tnfRadio.channel( 'layouts' ).request( 'update:fieldOrder', rowsView.collection );\n\n\t\t\t\tvar rowcid = jQuery( ui.item ).data( 'id' );\n\t\t\t\tvar droppedRow = rowsView.collection.get( { cid: rowcid } );\n\n\t\t\t\t// Add our field addition to our change log.\n\t\t\t\tvar label = {\n\t\t\t\t\tobject: 'Row',\n\t\t\t\t\tlabel: '',\n\t\t\t\t\tchange: 'Re-ordered',\n\t\t\t\t\tdashicon: 'sort'\n\t\t\t\t};\n\n\t\t\t\tvar data = {\n\t\t\t\t\tlayouts: true,\n\t\t\t\t\toldOrder: oldOrder,\n\t\t\t\t\trowCollection: rowsView.collection\n\t\t\t\t};\n\n\t\t\t\t/*\n\t\t\t\t * Disable the next Layouts change\n\t\t\t\t */\n\t\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t\t}\n\t\t\t\t}, this );\n\n\t\t\t\tvar newChange = nfRadio.channel( 'changes' ).request( 'register:change', 'rowSorting', droppedRow, null, label, data );\n\n\t\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t\t// Update our preview\n\t\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * When we receive an element, we are receiving:\n\t\t * 1) A field from cell sortable\n\t\t * 2) A single new field type\n\t\t * 3) Or the fields staging.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  object \t\t\te \t\t \tevent object\n\t\t * @param  object \t\t\tui       \tjQuery UI element\n\t\t * @param  Backbone.view \trowsView \tBackbone view\n\t\t * @param  object \t\t\tsortable \tjQuery UI element\n\t\t * @return void\n\t\t */\n\t\treceive: function( e, ui, rowsView, sortable ) {\n\t\t\t/*\n\t\t\t * If we are dropping on a gutter, the this.dropping will be set to true.\n\t\t\t * Once we know we've dropped, reset dropping to false.\n\t\t\t * We only want to receive if we didn't drop on a gutter/divider.\n\t\t\t */\n\t\t\tif ( this.dropping ) {\n\t\t\t\tnfRadio.channel( 'layouts' ).trigger( 'set:dropping', false );\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( jQuery( ui.item ).hasClass( 'nf-field-wrap' ) ) { // Receiving an item from a cell sortable\n\t\t\t\tthis.receiveCurrentField( e, ui, rowsView, sortable );\n\t\t\t} else if ( jQuery( ui.item ).hasClass( 'nf-field-type-draggable' ) ) { // We've received a field type button\n\t\t\t\tthis.receiveNewField( e, ui, rowsView, sortable );\n\t\t\t} else if ( jQuery( ui.item ).hasClass( 'nf-stage' ) ) { // Staging\n\t\t\t\tthis.receiveFieldStaging( e, ui, rowsView, sortable );\n\t\t\t}\n\t\t\t// Update our field order attribute\n\t\t\tnfRadio.channel( 'layouts' ).request( 'update:fieldOrder', rowsView.collection );\n\t\t\t// Set our 'clean' status to false so that we get a notice to publish changes\n\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', false );\n\t\t\t// Update our preview\n\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\t\t},\n\n\t\treceiveNewField: function( e, ui, rowsView, sortable ) {\n\t\t\t// Get the location where we've dropped the item.\t\n\t\t\tvar order = ui.helper.index() + 1;\n\t\t\t// Get our type string\n\t\t\tvar type = jQuery( ui.item ).data( 'id' );\n\t\t\t// Add a new field for our type, returning its tmp id.\n\t\t\tvar fieldModel = this.addField( type, order, true );\n\n\t\t\tthis.addRow( order, rowsView.collection, [ fieldModel.get( 'key' ) ], true );\n\t\t\t// Remove our helper\n\t\t\tjQuery( ui.helper ).remove();\n\n\t\t\t// Add our field addition to our change log.\n\t\t\tvar label = {\n\t\t\t\tobject: 'Field',\n\t\t\t\tlabel: fieldModel.get( 'label' ),\n\t\t\t\tchange: 'Added',\n\t\t\t\tdashicon: 'plus-alt'\n\t\t\t};\n\n\t\t\tvar data = {\n\t\t\t\tlayouts: true,\n\t\t\t\tcollection: nfRadio.channel( 'fields' ).request( 'get:collection' )\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tvar changeModel = nfRadio.channel( 'changes' ).request( 'register:change', 'rowNewField', fieldModel, null, label, data );\n\t\t},\n\n\t\treceiveFieldStaging: function( e, ui, rowsView, sortable ) {\n\t\t\t// Get the location where we've dropped the item.\t\n\t\t\tvar order = ui.helper.index() + 1;\n\t\t\t// Make sure that our staged fields are sorted properly.\t\n\t\t\tnfRadio.channel( 'fields' ).request( 'sort:staging' );\n\t\t\t// Grab our staged fields.\n\t\t\tvar stagedFields = nfRadio.channel( 'fields' ).request( 'get:staging' );\n\t\t\t\n\t\t\t// Loop through each staged fields model and insert a field.\n\t\t\t_.each( stagedFields.models, function( field, index ) {\n\t\t\t\t// Add a new field for our type, returning its tmp id.\n\t\t\t\tvar fieldModel = this.addField( field.get( 'slug' ), order, true );\n\t\t\t\tthis.addRow( order, rowsView.collection, [ fieldModel.get( 'id' ) ] );\n\t\t\t\torder++;\n\t\t\t}, this );\n\n\t\t\t// Clear our staging\n\t\t\tnfRadio.channel( 'fields' ).request( 'clear:staging' );\n\t\t\t// Remove our helper. Fixes a weird artifact.\n\t\t\tjQuery( ui.helper ).remove();\n\t\t},\n\n\t\treceiveCurrentField: function( e, ui, rowsView, sortable ) {\n\t\t\tvar oldCID = ui.item.fieldCollection.options.cellModel.collection.options.rowModel.cid;\t\t\t\n\t\t\tvar droppedOrder = jQuery( ui.item ).index() + 1;\n\t\t\tvar fieldID = jQuery( ui.item ).data( 'id' );\n\n\t\t\tvar oldOrder = [];\n\t\t\t// Update any rows that have an order equal to or higher than our order.\n\t\t\t_.each( rowsView.collection.models, function( rowModel ) {\n\t\t\t\toldOrder[ rowModel.get( 'order') ] = rowModel.cid;\n\t\t\t} );\n\n\t\t\t/*\n\t\t\t * Remove the field from its collection.\n\t\t\t * This will bubble up, causing the row to remove itself as well.\n\t\t\t */\n\t\t\tvar fieldModel = nfRadio.channel( 'fields' ).request( 'get:field', fieldID );\n\t\t\tui.item.fieldCollection.remove( fieldModel );\n\n\t\t\tvar rowModel = this.addRow( droppedOrder, rowsView.collection, [ fieldID ] );\n\n\t\t\toldOrder[ oldOrder.indexOf( oldCID ) ] = rowModel.cid;\n\n\t\t\t/*\n\t\t\t * Register an undo action for moving a current field into the row sortable.\n\t\t\t */\n\t\t\tvar undoLabel = {\n\t\t\t\tobject: 'Field',\n\t\t\t\tundoLabel: fieldModel.get( 'label' )\n\t\t\t};\n\n\t\t\tvar undoData = {\n\t\t\t\tlayouts: true\n\t\t\t}\t\t\t\n\n\t\t\t/*\n\t\t\t * If we have more than one cell model in our collection, then we've dragged from a cell into a row.\n\t\t\t *\n\t\t\t * If we have just one cell model in our collection, then we've dragged a row.\n\t\t\t * In this case, we are technically sorting, not just adding a new row.\n\t\t\t */\n\t\t\tif ( 2 <= ui.item.fieldCollection.options.cellModel.collection.length ) {\n\t\t\t\tvar changeAction = 'movedToNewRow';\n\t\t\t\tvar actionModel = fieldModel;\n\t\t\t\tundoData.originalCollection = ui.item.fieldCollection;\n\t\t\t\tundoData.rowModel = rowModel;\n\t\t\t\tundoLabel.dashicon = 'randomize';\n\t\t\t\tundoLabel.change = 'Moved';\n\t\t\t} else {\n\t\t\t\tvar changeAction = 'rowSorting';\n\t\t\t\tvar actionModel = rowModel;\n\t\t\t\tundoData.oldOrder = oldOrder;\n\t\t\t\tundoData.rowCollection = rowsView.collection;\n\t\t\t\tundoLabel.dashicon = 'sort';\n\t\t\t\tundoLabel.change = 'Re-ordered';\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Disable Layouts changes\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', true );\n\n\t\t\t\t\tif ( 'undefined' != typeof data.oldOrder ) {\n\t\t\t\t\t\tdata.oldOrder[ data.oldOrder.indexOf( oldCID ) ] = rowModel.cid;\n\t\t\t\t\t\tchangeModel.set( 'data', data );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this );\n\n\t\t\tvar changeModel = nfRadio.channel( 'changes' ).request( 'register:change', changeAction, actionModel, null, undoLabel, undoData );\n\t\t},\n\n\t\t/**\n\t\t * Add a row to the passed row collection.\n\t\t * \n\t\t * @since 3.0\n\t\t * @param int \t\t\t\t\torder      Index of the dropped item\n\t\t * @param Backbone.collection \tcollection Row collection\n\t\t * @param array \t\t\t\tfields  IDs of the fields we're adding (optional)\n\t\t * @param bool \t\t\t\t\tsilent     [description]\n\t\t */\n\t\taddRow: function( order, collection, fields, silent ) {\n\t\t\tvar fields = fields || [];\n\t\t\tvar silent = silent || false;\n\n\t\t\t// Update any rows that have an order equal to or higher than our order.\n\t\t\t_.each( collection.models, function( rowModel ) {\n\t\t\t\tif ( parseInt( rowModel.get( 'order' ) ) >= order ) {\n\t\t\t\t\tvar newOrder = rowModel.get( 'order' ) + 1;\n\t\t\t\t\trowModel.set( 'order', newOrder );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Add a row model into our collection.\n\t\t\tvar newRow = collection.add( {\n\t\t\t\torder: order,\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\torder: 0,\n\t\t\t\t\t\tfields: fields,\n\t\t\t\t\t\twidth: '100'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}, { silent: silent } );\n\n\t\t\t\n\t\t\tcollection.sort( { silent: true } );\n\n\t\t\t/* \n\t\t\t * When we add a row to our collection, the order attributes might get askew: 1,3,7 etc.\n\t\t\t * Update our order so that all of our numbers are consecutive.\n\t\t\t */\n\t\t\t_.each( collection.models, function( rowModel, index ) {\n\t\t\t\trowModel.set( 'order', index + 1 );\n\t\t\t} );\n\n\t\t\tcollection.sort();\n\t\t\n\t\t\treturn newRow;\n\n\t\t},\n\n\t\t/**\n\t\t * Add a field.\n\t\t * Builds the object necessary to add a field to the field model collection.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  string \ttype   field type\n\t\t * @param  boolean \tsilent add silently\n\t\t * @return string \ttmpID\n\t\t */\n\t\taddField: function( type, order, silent ) {\n\t\t\t// Default to false\n\t\t\tsilent = silent || false;\n\t\t\t// Get our field type model\n\t\t\tvar fieldType = nfRadio.channel( 'fields' ).request( 'get:type', type ); \n\t\t\t// Add our field\n\t\t\tvar newModel = nfRadio.channel( 'fields' ).request( 'add',  { label: fieldType.get( 'nicename' ), type: type }, silent );\n\t\t\treturn newModel;\n\t\t},\n\n\t\tsetDropping: function( val ) {\n\t\t\tthis.dropping = val;\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","/**\n * Listen and respond to undo events.\n */\ndefine( 'controllers/undo',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:movedBetweenCells', this.undoMovedBetweenCells, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:gutterDropNewField', this.undoGutterDropNewField, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:gutterSplitCell', this.undoGutterSplitCell, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:cellSorting', this.undoCellSorting, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:removedCell', this.undoRemovedCell, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:cellNewField', this.undoCellNewField, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:rowNewField', this.undoRowNewField, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:gutterResize', this.undoGutterResize, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:movedToNewRow', this.undoMovedToNewRow, this );\n\t\t\tnfRadio.channel( 'changes' ).reply( 'undo:rowSorting', this.undoRowSorting, this );\n\t\t},\n\n\t\t/**\n\t\t * Undo moving a field between cells.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  Backbone.model \tchange  change model\n\t\t * @param  bool \t\t\tundoAll are we undoing everything?\n\t\t * @return void\n\t\t */\n\t\tundoMovedBetweenCells: function( change, undoAll ) {\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar senderOldOrder = change.get( 'data' ).senderOldOrder;\n\t\t\tvar receiverOldOrder = change.get( 'data' ).receiverOldOrder;\n\t\t\t\n\t\t\tvar originalCollection = change.get( 'data' ).originalCollection;\n\t\t\tvar newCollection = change.get( 'data' ).newCollection;\n\t\t\t\n\t\t\toriginalCollection.add( fieldModel );\n\t\t\t/*\n\t\t\t * We have to update every model's order based upon our order array.\n\t\t\t * Loop through all of our fields and update their order value\n\t\t\t */\n\t\t\t_.each( originalCollection.models, function( field ) {\n\t\t\t\tvar id = field.get( 'id' );\n\t\t\t\t\n\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\tvar newPos = senderOldOrder.indexOf( id );\n\t\t\t\tfield.set( 'cellOrder', newPos );\n\t\t\t} );\n\n\t\t\toriginalCollection.sort();\n\n\t\t\tnewCollection.remove( fieldModel );\n\n\t\t\t/*\n\t\t\t * We have to update every model's order based upon our order array.\n\t\t\t * Loop through all of our fields and update their order value\n\t\t\t */\n\t\t\t_.each( newCollection.models, function( field ) {\n\t\t\t\tvar id = field.get( 'id' );\n\t\t\t\t\n\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\tvar newPos = receiverOldOrder.indexOf( id );\n\t\t\t\tfield.set( 'cellOrder', newPos );\n\t\t\t} );\n\n\t\t\tnewCollection.sort();\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\t/**\n\t\t * Undo dropping a new field type onto our gutter/divider\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  Backbone.model \tchange  change model\n\t\t * @param  bool \t\t\tundoAll are we undoing everything?\n\t\t * @return void\n\t\t */\n\t\tundoGutterDropNewField: function( change, undoAll ) {\n\t\t\t// Remove our new field\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar fieldCollection = change.get( 'data' ).fieldCollection;\n\t\t\tvar newCell = change.get( 'data' ).newCell;\n\n\t\t\tfieldCollection.remove( fieldModel );\n\t\t\t// Remove our new cell if we don't have any fields left\n\t\t\tif ( 0 == newCell.get( 'fields' ).models.length ) {\n\t\t\t\tnewCell.collection.remove( newCell );\t\t\t\t\n\t\t\t}\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\t/**\n\t\t * Undo dropping an existing field onto a gutter and adding a new cell.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  Backbone.model \tchange  change model\n\t\t * @param  bool \t\t\tundoAll are we undoing everything?\n\t\t * @return void\n\t\t */\n\t\tundoGutterSplitCell: function( change, undoAll ) {\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar oldCollection = change.get( 'data' ).oldCollection;\n\t\t\tvar newCell = change.get( 'data' ).newCell;\n\t\t\tvar cellCollection = change.get( 'data' ).cellCollection;\n\n\t\t\t/*\n\t\t\t * Check to see if this was the only item in a row.\n\t\t\t * If it was, we need to insert a new row.\n\t\t\t */\n\t\t\tif( 'undefined' == typeof oldCollection.options.cellModel.collection.options.rowModel.collection ) {\n\t\t\t\tvar order = oldCollection.options.cellModel.collection.options.rowModel.get( 'order' );\n\t\t\t\tvar newRowModel = nfRadio.channel( 'layouts' ).request( 'add:row', cellCollection.options.rowModel.collection, { order: order, field: fieldModel.get( 'id' ) } );\n\t\t\t} else { // We can just add the field back to it's original collection because a row already exists.\n\t\t\t\toldCollection.add( fieldModel );\n\t\t\t}\n\n\t\t\t// Remove our new cell\n\t\t\tnewCell.get( 'fields' ).remove( fieldModel );\n\t\t\tcellCollection.remove( newCell )\n\t\t\tcellCollection.sort();\t\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoCellSorting: function( change, undoAll ) {\n\t\t\tvar data = change.get( 'data' );\n\t\t\tvar fieldCollection = data.fieldCollection;\n\t\t\tvar order = data.oldOrder;\n\n\t\t\t/*\n\t\t\t * We have to update every model's order based upon our order array.\n\t\t\t * Loop through all of our fields and update their order value\n\t\t\t */\n\t\t\t_.each( fieldCollection.models, function( field ) {\n\t\t\t\tvar id = field.get( 'id' );\n\t\t\t\t\n\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\tvar newPos = order.indexOf( id );\n\t\t\t\tfield.set( 'cellOrder', newPos );\n\t\t\t} );\n\n\t\t\tfieldCollection.sort();\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoRemovedCell: function( change, undoAll ) {\n\t\t\tvar data = change.get( 'data' );\n\t\t\tvar cellModel = data.cellModel;\n\t\t\tvar cellCollection = data.cellCollection;\n\t\t\tvar rowModel = data.rowModel;\n\t\t\tvar rowCollection = data.rowCollection;\n\n\t\t\t/*\n\t\t\t * Put the cell back into our cell collection.\n\t\t\t */\n\t\t\tcellCollection.add( cellModel );\n\n\t\t\t/*\n\t\t\t * If we don't have a data.newRows property, then we didn't create new rows as a result of our cell removal.\n\t\t\t */\n\t\t\tif ( 'undefined' != typeof data.newRows ) { // We removed a cell that resulted in creating a bunch of new rows.\n\t\t\t\tvar newRows = data.newRows;\n\t\t\t\t// Remove our old rows\n\t\t\t\trowCollection.remove( newRows );\n\t\t\t\t// Re-add our row model that was removed.\n\t\t\t\trowCollection.add( rowModel );\n\t\t\t}\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoCellNewField: function( change, undoAll ) {\n\t\t\t// Remove our new field\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar fieldCollection = change.get( 'data' ).collection;\n\t\t\tfieldCollection.remove( fieldModel );\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoRowNewField: function( change, undoAll ) {\n\t\t\t// Remove our new field\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar fieldCollection = change.get( 'data' ).collection;\n\t\t\tfieldCollection.remove( fieldModel );\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoGutterResize: function( change, undoAll ) {\n\t\t\t// Reset our sizes\n\t\t\tvar data = change.get( 'data' );\n\t\t\tvar gutter = data.gutter; \n\t\t\tvar cellCollection = data.cellCollection;\n\t\t\tvar modelA = data.modelA;\n\t\t\tvar modelB = data.modelB;\n\n\t\t\tvar oldModelAWidth = data.oldModelAWidth;\n\t\t\tvar oldModelBWidth = data.oldModelBWidth;\n\n\t\t\tmodelA.set( 'width', oldModelAWidth );\n\t\t\tmodelB.set( 'width', oldModelBWidth );\n\n\t\t\tjQuery( gutter ).find( '.percent-left' ).remove();\n\t\t\tjQuery( gutter ).find( '.percent-right' ).remove();\n\n\t\t\tcellCollection.sort();\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\n\t\t},\n\n\t\tundoMovedToNewRow: function( change, undoAll ) {\n\t\t\t/*\n\t\t\t * Move the field back to its original cell.\n\t\t\t */\n\t\t\tvar fieldModel = change.get( 'model' );\n\t\t\tvar originalCollection = change.get( 'data' ).originalCollection;\n\t\t\toriginalCollection.add( fieldModel );\n\n\t\t\t/*\n\t\t\t * Remove our new row model\n\t\t\t */\n\t\t\tvar rowModel = change.get( 'data' ).rowModel;\n\t\t\trowModel.collection.remove( rowModel );\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tundoRowSorting: function( change, undoAll ) {\n\t\t\tvar oldOrder = change.get( 'data' ).oldOrder;\n\t\t\tvar rowCollection = change.get( 'data' ).rowCollection;\n\n\t\t\t/*\n\t\t\t * We have to update every model's order based upon our order array.\n\t\t\t * Loop through all of our fields and update their order value\n\t\t\t */\n\t\t\t_.each( rowCollection.models, function( rowModel ) {\n\t\t\t\tvar cid = rowModel.cid;\n\t\t\t\t\n\t\t\t\t// Get the index of our field inside our order array\n\t\t\t\tvar newPos = oldOrder.indexOf( cid );\n\t\t\t\trowModel.set( 'order', newPos );\n\t\t\t} );\n\n\t\t\trowCollection.sort();\n\n\t\t\tthis.maybeRemoveChange( change, undoAll );\n\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tthis.enableNextChange();\n\t\t},\n\n\t\tenableNextChange: function() {\n\t\t\t/*\n\t\t\t * Enable the next Layouts change\n\t\t\t */\n\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\tvar found = false;\n\t\t\t_.each( changeCollection.models, function( changeModel ) {\n\t\t\t\tvar data = changeModel.get( 'data' );\n\t\t\t\tif ( ! found && 'undefined' != typeof data.layouts && data.layouts ) {\n\t\t\t\t\tchangeModel.set( 'disabled', false );\n\t\t\t\t\tfound = true;\n\t\t\t\t}\n\t\t\t}, this );\n\t\t},\n\n\t\t/**\n\t\t * If our undo action was requested to 'remove' the change from the collection, remove it.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  backbone.model \tchange \tmodel of our change\n\t\t * @param  boolean \t\t\tremove \tshould we remove this item from our change collection\n\t\t * @return void\n\t\t */\n\t\tmaybeRemoveChange: function( change, undoAll ) {\t\t\t\n\t\t\tvar undoAll = typeof undoAll !== 'undefined' ? undoAll : false;\n\t\t\tif ( ! undoAll ) {\n\t\t\t\t// Update preview.\n\t\t\t\tnfRadio.channel( 'app' ).request( 'update:db' );\n\t\t\t\tvar changeCollection = nfRadio.channel( 'changes' ).request( 'get:collection' );\n\t\t\t\tchangeCollection.remove( change );\n\t\t\t\tif ( 0 == changeCollection.length ) {\n\t\t\t\t\tnfRadio.channel( 'app' ).request( 'update:setting', 'clean', true );\n\t\t\t\t\tnfRadio.channel( 'app' ).request( 'close:drawer' );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\treturn controller;\n} );\n\n","/**\n * Recalculates our field order attribute.\n * This isn't the attribute used by Layouts but the one used by core.\n *\n * @since  3.0\n */ \ndefine( 'controllers/updateFieldOrder',[], function() {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnfRadio.channel( 'layouts' ).reply( 'update:fieldOrder', this.updateFieldOrder );\n\t\t},\n\n\t\tupdateFieldOrder: function( rowCollection ) {\n\t\t\tvar order = 1;\n\t\t\t/*\n\t\t\t * Loop over our row collection and set the order attribute for any fields we find inside the cells.\n\t\t\t */\n\t\t\t_.each( rowCollection.models, function( rowModel, rowIndex ) {\n\t\t\t\t/*\n\t\t\t\t * Loop over our cells and update our field models 'order' attribute.\n\t\t\t\t */\n\t\t\t\t_.each( rowModel.get( 'cells' ).models, function( cellModel, cellIndex ) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Loop over every field in our cell model and update its 'order' attribute.\n\t\t\t\t\t */\n\t\t\t\t\t_.each( cellModel.get( 'fields' ).models, function( fieldModel, fieldIndex ) {\n\t\t\t\t\t\tfieldModel.set( 'order', order, { silent: true } );\n\t\t\t\t\t\torder++;\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} );\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n\n","define( \n\t'controllers/loadControllers',[\n\t\t'controllers/data',\n\t\t'controllers/maxCols',\n\t\t'controllers/addField',\n\t\t'controllers/cellSortable',\n\t\t'controllers/gutterDroppable',\n\t\t'controllers/rowsSortable',\n\t\t'controllers/undo',\n\t\t'controllers/updateFieldOrder'\n\t], \n\tfunction\n\t(\n\t\tData,\n\t\tMaxCols,\n\t\tAddField,\n\t\tCellSortable,\n\t\tGutterDroppable,\n\t\tRowsSortable,\n\t\tUndo,\n\t\tUpdateFieldOrder\n\t)\n\t{\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tnew MaxCols();\n\t\t\tnew Data();\n\t\t\tnew AddField();\n\t\t\tnew CellSortable();\n\t\t\tnew GutterDroppable();\n\t\t\tnew RowsSortable();\n\t\t\tnew Undo();\n\t\t\tnew UpdateFieldOrder();\n\t\t}\n\n\t});\n\n\treturn controller;\n} );\n","/**\n * Model that holds our cell information\n * \n * @package Ninja Forms Layouts\n * @subpackage Layouts\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'models/cellModel',['models/cellFieldCollection'], function( CellFieldCollection) {\n\tvar model = Backbone.Model.extend( {\n\t\tinitialize: function() {\n\t\t\tvar fieldCollection = nfRadio.channel( 'fields' ).request( 'get:collection' );\n\t\t\tvar fieldModels = [];\n\n\t\t\t_.each( this.get( 'fields' ), function( search ) {\n\t\t\t\tif ( 'undefined' == typeof fieldCollection.get( search ) ) {\n\t\t\t\t\tfieldModels.push( fieldCollection.findWhere( { key: search } ) );\n\t\t\t\t} else {\n\t\t\t\t\tfieldModels.push( fieldCollection.get( search ) );\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( false === this.get( 'fields' ) instanceof Backbone.Collection ) {\n\t\t\t\tthis.set( 'fields', new CellFieldCollection( fieldModels, { cellModel: this } ) );\n\t\t\t}\n\t\t}\n\t\t\n\t} );\n\t\n\treturn model;\n} );\n","/**\n * Holds all of our cell models.\n * \n * @package Ninja Forms Layouts\n * @subpackage Fields\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'models/cellCollection',['models/cellModel'], function( cellModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: cellModel,\n\t\tcomparator: 'order',\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n\t\t\tthis.on( 'change:fields', this.updateRowModel, this );\n\t\t\tthis.on( 'add', this.addCell, this );\n\t\t\tthis.on( 'remove', this.updateCellWidths, this );\n\t\t},\n\n\t\taddCell: function() {\n\t\t\tthis.updateCellWidths();\n\t\t\tthis.updateRowModel();\n\t\t\tthis.options.rowModel.trigger( 'add:cell', this.options.rowModel );\n\t\t},\n\n\t\tupdateRowModel: function() {\n\t\t\tthis.options.rowModel.set( 'cells', this );\n\t\t\tthis.options.rowModel.trigger( 'change:cells', this.options.rowModel );\n\t\t},\n\n\t\t/**\n\t\t * Update our cell widths.\n\t\t * This is called whenever we add or remove a cell from our cell collection.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  Backbone.Model \tcellModel\n\t\t * @return void\n\t\t */\n\t\tupdateCellWidths: function( cellModel ) {\n\t\t\t// Calculate a new width for our cells.\n\t\t\tvar width = Math.round( 100 / this.models.length );\n\n\t\t\t// Set our width for each cell.\n\t\t\t_.each( this.models, function( cell ) {\n\t\t\t\tcell.set( 'width', width );\n\t\t\t} );\n\n\t\t\tthis.sort();\n\t\t}\n\t} );\n\treturn collection;\n} );\n","/**\n * Model that holds our row information\n * \n * @package Ninja Forms Layouts\n * @subpackage Fields\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'models/rowModel',['models/cellCollection'], function( CellCollection ) {\n\tvar model = Backbone.Model.extend( {\n\n\t\tinitialize: function( models, options ) {\n\t\t\tthis.options = options;\n\t\t\tthis.set( 'cells', new CellCollection( this.get( 'cells' ), { rowModel: this } ) );\n\t\t\tthis.on( 'change:cells', this.checkEmptyCells, this );\n\t\t},\n\n\t\tcheckEmptyCells: function( model ) {\n\t\t\t/*\n\t\t\t * Check to see if all our cells are empty. If they are, self destruct.\n\t\t\t */\n\t\t\tvar remove = true;\n\t\t\t_.each( this.get( 'cells' ).models, function( cell ) {\n\t\t\t\tif ( 0 != cell.get( 'fields' ).length ) {\n\t\t\t\t\tremove = false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\tif ( remove ) {\n\t\t\t\tthis.collection.remove( this );\n\t\t\t}\n\t\t}\t\t\n\t} );\n\t\n\treturn model;\n} );\n","/**\n * Holds all of our row models.\n * \n * @package Ninja Forms Layouts\n * @subpackage Fields\n * @copyright (c) 2016 WP Ninjas\n * @since 3.0\n */\ndefine( 'models/rowCollection',['models/rowModel'], function( rowModel ) {\n\tvar collection = Backbone.Collection.extend( {\n\t\tmodel: rowModel,\n\t\tcomparator: 'order',\n\n\t\tinitialize: function( models ) {\n\t\t\tthis.updateMaxCols( models );\n\t\t\tthis.on( 'add:cell', this.updateMaxCols, this );\n\t\t\tthis.on( 'destroy:cell', this.updateMaxCols, this );\n\t\t\tthis.on( 'remove:cell', this.updateMaxCols, this );\n\t\t\tthis.on( 'destroy', this.updateMaxCols, this );\n\t\t},\n\n\t\tupdateMaxCols: function( models ) {\n\t\t\tvar maxCols = 1;\n\t\t\tif ( true === models instanceof Backbone.Model ) {\n\t\t\t\tmodels = this.models\n\t\t\t}\n\t\t\t_.each( models, function( row ) {\n\t\t\t\tif ( 'undefined' != typeof row.cells ) {\n\t\t\t\t\tif ( maxCols < row.cells.length ) {\n\t\t\t\t\t\tmaxCols = row.cells.length;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t} else if ( true === row instanceof Backbone.Model ) {\n\t\t\t\t\tif ( maxCols < row.get( 'cells' ).length ) {\n\t\t\t\t\t\tmaxCols = row.get( 'cells' ).length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t} );\n\n\t\t\tnfRadio.channel( 'layouts' ).request( 'update:colClass', maxCols );\n\t\t}\n\t} );\n\treturn collection;\n} );\n","define( 'controllers/loadContent',['views/rowCollection', 'controllers/loadControllers', 'models/rowCollection'], function( RowCollectionView, LoadControllers, RowCollection ) {\n\tvar controller = Marionette.Object.extend( {\n\t\tinitialize: function() {\n\t\t\tthis.listenTo( nfRadio.channel( 'app' ), 'after:loadControllers', this.loadControllers );\n\t\t},\n\n\t\tloadControllers: function() {\n\t\t\tnew LoadControllers();\n\n\t\t\tnfRadio.channel( 'formContent' ).request( 'add:viewFilter', this.getFormContentView, 4 );\n\t\t\tnfRadio.channel( 'formContent' ).request( 'add:saveFilter', this.formContentSave, 4 );\n\t\t\tnfRadio.channel( 'formContent' ).request( 'add:loadFilter', this.formContentLoad, 4 );\n\t\t\n\t\t\t/*\n\t\t\t * In the RC for Ninja Forms, the 'formContent' channel was called 'fieldContents'.\n\t\t\t * This was changed in version 3.0. These radio messages are here to make sure nothing breaks.\n\t\t\t *\n\t\t\t * TODO: Remove this backwards compatibility radio calls.\n\t\t\t */\n\t\t\tnfRadio.channel( 'fieldContents' ).request( 'add:viewFilter', this.getFormContentView, 4 );\n\t\t\tnfRadio.channel( 'fieldContents' ).request( 'add:saveFilter', this.formContentSave, 4 );\n\t\t\tnfRadio.channel( 'fieldContents' ).request( 'add:loadFilter', this.formContentLoad, 4 );\n\t\t},\n\n\t\tgetFormContentView: function( collection ) {\n\t\t\treturn RowCollectionView;\n\t\t},\n\n\t\t/**\n\t\t * When we update our database, set the form setting value of 'formContentData' to our row collection.\n\t\t * To do this, we have to break our row collection down into an object, then remove all the extra field settings\n\t\t * so that we're left with just the field IDs.\n\t\t * \n\t\t * @since  3.0\n\t\t * @return array \n\t\t */\n\t\tformContentSave: function( rowCollection ) {\n\t\t\tvar rows = JSON.parse( JSON.stringify( rowCollection ) );\t\n\t\t\t_.each( rows, function( row, rowIndex ) {\n\t\t\t\t_.each( row.cells, function( cell, cellIndex ) {\n\t\t\t\t\t_.each( cell.fields, function( field, fieldIndex ) {\n\t\t\t\t\t\tif ( field.key ) {\n\t\t\t\t\t\t\trows[ rowIndex ].cells[ cellIndex].fields[ fieldIndex ] = field.key;\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t} );\n\n\t\t\treturn rows;\n\t\t},\n\n\t\t/**\n\t\t * When we load our builder view, we filter the formContentData.\n\t\t * This turns the saved object into a Backbone Collection.\n\t\t *\n\t\t * If we aren't passed any data, then this form hasn't been modified with layouts yet,\n\t\t * so we default to the nfLayouts.rows global variable that is localised for us.\n\t\t * \n\t\t * @since  3.0\n\t\t * @param  array rowArray current value of our formContentData.\n\t\t * @return Backbone.Collection\n\t\t */\n\t\tformContentLoad: function( rowArray ) {\n\t\t\tif ( false === rowArray instanceof Backbone.Collection ) {\n\t\t\t\tif ( 'undefined' == typeof rowArray || 0 == rowArray.length || 'undefined' == typeof rowArray[0]['cells'] ) {\n\t\t\t\t\tif ( 'undefined' != typeof nfLayouts ) {\n\t\t\t\t\t\trowArray = nfLayouts.rows;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowArray = [];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new RowCollection( rowArray );\t\t\t\t\n\t\t\t} else {\n\t\t\t\treturn rowArray;\n\t\t\t}\n\n\t\t}\n\t});\n\n\treturn controller;\n} );\n","var nfRadio = Backbone.Radio;\nrequire( ['controllers/loadContent'], function( LoadContent ) {\n\n\tvar NFLayouts = Marionette.Application.extend( {\n\n\t\tinitialize: function( options ) {\n\t\t\tthis.listenTo( nfRadio.channel( 'app' ), 'after:appStart', this.afterNFLoad );\n\t\t},\n\n\t\tonStart: function() {\n\t\t\tnew LoadContent();\n\t\t},\n\n\t\tafterNFLoad: function( app ) {\n\t\t\tvar builderEl = nfRadio.channel( 'app' ).request( 'get:builderEl' );\n\t\t\tjQuery( builderEl ).addClass( 'layouts' );\n\t\t}\n\t} );\n\n\tvar nfLayouts = new NFLayouts();\n\tnfLayouts.start();\n} );\ndefine(\"main\", function(){});\n\n"],"sourceRoot":"/source/"}